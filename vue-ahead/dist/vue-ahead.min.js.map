{"version":3,"file":"vue-ahead.min.js","sources":["../src/components/shield.vue","../node_modules/vue-runtime-helpers/dist/normalize-component.mjs","../node_modules/vue-runtime-helpers/dist/inject-style/browser.mjs","../src/components/controlIcon.vue","../src/helpers/utils.js","../src/components/selectionItem.vue","../src/components/input.vue","../src/components/dropdownItem.vue","../src/components/dropdownLabel.vue","../src/components/dropdown.vue","../src/helpers/common.js","../src/helpers/engine.js","../src/control.vue","../src/main.js"],"sourcesContent":["<template>\r\n<div\r\n\tclass=\"vue_ahead__control_input_shield\"\r\n\t:style=\"style\"\r\n\t@mousedown=\"$emit('mousedown', $event)\"\r\n>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nconst style = {\r\n\tdisplay: \"none\",\r\n\tbackgroundColor: \"transparent\",\r\n\twidth: \"100%\",\r\n\theight: \"100%\",\r\n\tposition: \"absolute\",\r\n\ttop: 0,\r\n\tleft: 0,\r\n\tzIndex: 100000,\r\n};\r\n\r\nexport default {\r\n\tprops: {\r\n\t\ton: Boolean,\r\n\t},\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tstyle: Object.assign({}, style),\r\n\t\t};\r\n\t},\r\n\twatch: {\r\n\t\ton: function () {\r\n\t\t\tthis.style.display = this.on ? \"inherit\" : \"none\";\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n.vue_ahead__control_input_shield {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tleft: 0;\r\n\tz-index: 100000;\r\n}\r\n</style>","function normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\nexport default normalizeComponent;\n//# sourceMappingURL=normalize-component.mjs.map\n","const isOldIE = typeof navigator !== 'undefined' &&\r\n    /msie [6-9]\\\\b/.test(navigator.userAgent.toLowerCase());\r\nfunction createInjector(context) {\r\n    return (id, style) => addStyle(id, style);\r\n}\r\nlet HEAD;\r\nconst styles = {};\r\nfunction addStyle(id, css) {\r\n    const group = isOldIE ? css.media || 'default' : id;\r\n    const style = styles[group] || (styles[group] = { ids: new Set(), styles: [] });\r\n    if (!style.ids.has(id)) {\r\n        style.ids.add(id);\r\n        let code = css.source;\r\n        if (css.map) {\r\n            // https://developer.chrome.com/devtools/docs/javascript-debugging\r\n            // this makes source maps inside style tags work properly in Chrome\r\n            code += '\\n/*# sourceURL=' + css.map.sources[0] + ' */';\r\n            // http://stackoverflow.com/a/26603875\r\n            code +=\r\n                '\\n/*# sourceMappingURL=data:application/json;base64,' +\r\n                    btoa(unescape(encodeURIComponent(JSON.stringify(css.map)))) +\r\n                    ' */';\r\n        }\r\n        if (!style.element) {\r\n            style.element = document.createElement('style');\r\n            style.element.type = 'text/css';\r\n            if (css.media)\r\n                style.element.setAttribute('media', css.media);\r\n            if (HEAD === undefined) {\r\n                HEAD = document.head || document.getElementsByTagName('head')[0];\r\n            }\r\n            HEAD.appendChild(style.element);\r\n        }\r\n        if ('styleSheet' in style.element) {\r\n            style.styles.push(code);\r\n            style.element.styleSheet.cssText = style.styles\r\n                .filter(Boolean)\r\n                .join('\\n');\r\n        }\r\n        else {\r\n            const index = style.ids.size - 1;\r\n            const textNode = document.createTextNode(code);\r\n            const nodes = style.element.childNodes;\r\n            if (nodes[index])\r\n                style.element.removeChild(nodes[index]);\r\n            if (nodes.length)\r\n                style.element.insertBefore(textNode, nodes[index]);\r\n            else\r\n                style.element.appendChild(textNode);\r\n        }\r\n    }\r\n}\n\nexport default createInjector;\n//# sourceMappingURL=browser.mjs.map\n","<template>\r\n<div\r\n\taria-hidden=\"true\"\r\n\ttabIndex=\"0\"\r\n\t@click=\"$emit('click', $event)\"\r\n\t@keydown=\"$emit('keydown', $event)\"\r\n>\r\n\t<svg\r\n\t\tx=\"0px\" \r\n\t\ty=\"0px\"\r\n\t\tfocusable=\"false\"\r\n\t\taria-hidden=\"true\"\r\n\t\tclass=\"icon\"\r\n\t\t:width=\"size\"\r\n\t\t:height=\"size\"\r\n\t\t:viewBox=\"viewBox\"\r\n\t>\r\n\t\t<path :d=\"path\" />\r\n\t</svg>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\tpath: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\t\tsize: {\r\n\t\t\ttype: Number,\r\n\t\t\tdefault: 16,\r\n\t\t},\r\n\t\tviewBox: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: \"0 0 18 18\",\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.icon {\r\n\tdisplay: inline-block;\r\n\tfill: currentcolor;\r\n\tline-height: 1;\r\n\tstroke: currentcolor;\r\n\tstroke-width: 0;\r\n}\r\n</style>","const defaultGroupName = 'default';\r\n\r\nconst getItemLabel = (item) => {\r\n\tlet src = typeof item === 'object' ? item['label'] : item;\r\n\r\n\tif (typeof src !== 'string') {\r\n\t\tsrc = src.toString();\r\n\t}\r\n\r\n\treturn src;\r\n};\r\n\r\nconst getDisplay = (item, display, type) => {\r\n\tlet label = getItemLabel(item);\r\n\r\n\tif (display) {\r\n\t\tlabel = display(label, item['src'], type);\r\n\t}\r\n\r\n\tif (typeof label !== 'string') {\r\n\t\treturn \"...\";\r\n\t}\r\n\r\n\treturn label;\r\n};\r\n\r\nconst getGroupKey = (item) => {\r\n\tlet groupKey =\r\n    typeof item === 'object' ? item['group'] : defaultGroupName;\r\n\r\n\tif (typeof groupKey !== 'string' && typeof groupKey !== 'number') {\r\n\t\tgroupKey = defaultGroupName;\r\n\t}\r\n\r\n\tgroupKey = (groupKey.toString() || defaultGroupName);\r\n\treturn groupKey.toUpperCase();\r\n};\r\n\r\nmodule.exports = {\r\n\tgetDisplay,\r\n\tgetGroupKey,\r\n\tgetItemLabel,\r\n};","<template>\r\n<div class=\"vue_ahead__selection_container\">\r\n\t<div class=\"vue_ahead__selection_content\" :title=\"title\">\r\n\t\t<span v-if=\"!itemRenderer\">{{ text }}</span>\r\n\t\t<component\r\n\t\t\tv-else\r\n\t\t\t:is=\"itemRenderer\"\r\n\t\t\t:item=\"item\"\r\n\t\t\t:display=\"display\"\r\n\t\t\t:defaultText=\"text\"\r\n\t\t/>\r\n\t</div>\r\n\t<ControlIcon\r\n\t\tclass=\"vue_ahead__selection_removal\"\r\n\t\t:title=\"'remove ' + title\"\r\n\t\t:path=\"iconPath\"\r\n\t\t@mousedown.native.stop=\"$emit('item-removal', $event)\"\r\n\t\t@keydown.stop=\"handleRemovalKeydown($event)\"\r\n\t/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport ControlIcon from './controlIcon.vue';\r\nimport { getDisplay } from '../helpers/utils';\r\n\r\nconst clearIconPath = \"M 14.348 14.849 c -0.469 0.469 -1.229 0.469 -1.697 0 l -2.651 -3.03 l -2.651 3.029 c -0.469 0.469 -1.229 0.469 -1.697 0 c -0.469 -0.469 -0.469 -1.229 0 -1.697 l 2.758 -3.15 l -2.759 -3.152 c -0.469 -0.469 -0.469 -1.228 0 -1.697 s 1.228 -0.469 1.697 0 l 2.652 3.031 l 2.651 -3.031 c 0.469 -0.469 1.228 -0.469 1.697 0 s 0.469 1.229 0 1.697 l -2.758 3.152 l 2.758 3.15 c 0.469 0.469 0.469 1.229 0 1.698 Z\";\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tdisplay: Function,\r\n\t\titem: Object,\r\n\t\titemRenderer: Object,\r\n\t\tindex: Number,\r\n\t},\r\n\tcomponents: {\r\n\t\tControlIcon,\r\n\t},\r\n\tdata: function () {\r\n\t\tconst { text, title } = this.getDisplayText();\r\n\r\n\t\treturn {\r\n\t\t\ttext,\r\n\t\t\ttitle,\r\n\t\t\ticonPath: clearIconPath,\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tgetDisplayText: function () {\r\n\t\t\tconst title = this.item.label || \"...\";\r\n\t\t\tlet text = getDisplay(this.item, this.display, 'multi-selection');\r\n\r\n\t\t\tif (text && text.length > 8) {\r\n\t\t\t\ttext = text.substr(0, 6) + \"...\";\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\ttext,\r\n\t\t\t\ttitle,\r\n\t\t\t};\r\n\t\t},\r\n\t\thandleRemovalKeydown: function (evt, key) {\r\n\t\t\tif (!evt) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst { keyCode } = evt;\r\n\r\n\t\t\tif (keyCode === 13 || keyCode === 32) {\r\n\t\t\t\tthis.$emit('item-removal', evt, key);\r\n\t\t\t\tevt.preventDefault();\r\n\t\t\t}\r\n\r\n\t\t\tif (this.index === 0 && keyCode === 9 && evt.shiftKey) {\r\n\t\t\t\tthis.$emit('special-key');\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n.vue_ahead__selection_container {\r\n\tbackground-color: rgb(230, 230, 230);\r\n\tdisplay: flex;\r\n\tmin-width: 0px;\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 2px;\r\n\tmargin: 2px 3px 2px 1px;\r\n}\r\n\r\n.vue_ahead__selection_content {\r\n\tcolor: rgb(51, 51, 51);\r\n\tfont-size: 80%;\r\n\ttext-overflow: ellipsis;\r\n\twhite-space: nowrap;\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n\tpadding: 1px 2px 1px 4px;\r\n}\r\n\r\n.vue_ahead__selection_removal {\r\n\t-webkit-box-align: center;\r\n\talign-items: center;\r\n\tcursor: pointer;\r\n\tdisplay: flex;\r\n\tpadding: 0 2px 2px 0;\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 2px;\r\n}\r\n\r\n.vue_ahead__selection_removal:hover {\r\n\tbackground-color: rgb(255, 189, 173);\r\n\tcolor: rgb(222, 53, 11);\r\n}\r\n</style>\r\n","<template>\r\n<div\r\n\t:class=\"classes.wrapper\"\r\n\t@dblclick.capture.stop=\"$emit('dblclick', $event)\"\r\n\t@mousedown.stop=\"$emit('mousedown', $event)\"\r\n\t@focus.capture=\"handleFocus\"\r\n\t@blur.capture=\"$emit('blur', $event)\"\r\n>\r\n\t<div\r\n\t\tclass=\"vue_ahead__input_container\"\r\n\t\t:title=\"phContent.title\"\r\n\t>\r\n\t\t<div\r\n\t\t\tv-if=\"phContent.content !== ''\"\r\n\t\t\t:class=\"classes.placeholder\"\r\n\t\t>\r\n\t\t\t<div \r\n\t\t\t\tv-if=\"!singleSelRenderer || !selection.length\"\r\n\t\t\t\t:class=\"singleValClass\"\r\n\t\t\t>\r\n\t\t\t\t{{ phContent.content }}\r\n\t\t\t</div>\r\n\t\t\t<component\r\n\t\t\t\tv-else\r\n\t\t\t\t:is=\"singleSelRenderer\"\r\n\t\t\t\t:class=\"singleValClass\"\r\n\t\t\t\t:defaultText=\"phContent.content\"\r\n\t\t\t\t:display=\"display\"\r\n\t\t\t\t:item=\"selection[0]['src']\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\r\n\t\t<div\r\n\t\t\tv-for=\"(item, index) in selection\"\r\n\t\t\t:key=\"getSelectionKey(item, index)\"\r\n\t\t>\r\n\t\t\t<SelectionItem\r\n\t\t\t\tv-if=\"isMulti\"\r\n\t\t\t\t:class=\"getItemClass(item)\"\r\n\t\t\t\t:item=\"item\"\r\n\t\t\t\t:itemRenderer=\"multiSelRenderer\"\r\n\t\t\t\t:index=\"index\"\r\n\t\t\t\t@item-removal=\"$emit('item-removal', $event, item)\"\r\n\t\t\t\t@special-key=\"$emit('special-key', 'tab-out')\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\r\n\t\t<div :style=\"styles.field\">\r\n\t\t\t<input\r\n\t\t\t\tautoCapitalize=\"none\"\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\tautoCorrect=\"off\"\r\n\t\t\t\tspellCheck=\"false\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tref=\"input\"\r\n\t\t\t\t:value=\"value\"\r\n\t\t\t\t:style=\"styles.input\"\r\n\t\t\t\t@keydown=\"handleKeydown\"\r\n\t\t\t\t@input=\"handleInput\"\r\n\t\t\t/>\r\n\t\t\t<div\r\n\t\t\t\tref=\"contentHolder\"\r\n\t\t\t\t:style=\"styles.container\"\r\n\t\t\t>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n\r\n\t<div class=\"vue_ahead__icons_container\">\r\n\t\t<ControlIcon\r\n\t\t\tclass=\"vue_ahead__action_icon vue_ahead__clear_icon\"\r\n\t\t\ttitle=\"clear all\"\r\n\t\t\t:path=\"path.clear\"\r\n\t\t\t:size=\"18\"\r\n\t\t\t@mousedown.native.stop=\"$emit('icon-event', $event, 'clear')\"\r\n\t\t\t@keydown.stop=\"handleIconKeydown($event, 'clear')\"\r\n\t\t/>\r\n\t\t<span class=\"vue_ahead__action_icon_separator\"></span>\r\n\t\t<ControlIcon\r\n\t\t\tclass=\"vue_ahead__action_icon vue_ahead__dropdown_icon\"\r\n\t\t\ttitle=\"dropdown menu\"\r\n\t\t\t:path=\"path.dropdown\"\r\n\t\t\t:size=\"18\"\r\n\t\t\t@mousedown.native.stop=\"$emit('icon-event', $event, 'dropdown')\"\r\n\t\t\t@keydown.stop=\"handleIconKeydown($event, 'dropdown')\"\r\n\t\t/>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport SelectionItem from './selectionItem.vue';\r\nimport ControlIcon from './controlIcon.vue';\r\nimport { getItemLabel, getDisplay } from '../helpers/utils';\r\n\r\nconst inputStyle = {\r\n\tboxSizing: \"content-box\",\r\n\tcolor: \"inherit\",\r\n\tfontSize: \"inherit\",\r\n\tfontFamily: \"inherit\",\r\n\tfontWeight: \"inherit\",\r\n\tminWidth: \"1px\",\r\n\twidth: \"2px\",\r\n\theight: \"100%\",\r\n\toutline: \"none\",\r\n\tborder: 0,\r\n\tpadding: \"0\",\r\n};\r\n\r\nconst contentHolderStyle = {\r\n\tposition: \"absolute\",\r\n\ttop: \"0\",\r\n\tleft: \"0\",\r\n\tvisibility: \"hidden\",\r\n\theight: \"0\",\r\n\twidth: \"min-content\",\r\n\toverflow: \"auto\",\r\n\twhiteSpace: \"pre\",\r\n\tfontSize: \"inherit\",\r\n\tfontFamily: \"inherit\",\r\n\tfontWeight: \"inherit\",\r\n\tfontStyle: \"normal\",\r\n\tletterSpacing: \"normal\",\r\n\ttextTransform: \"none\",\r\n};\r\n\r\nconst fieldStyle = {\r\n\tdisplay: \"inline-block\",\r\n\tpadding: \"0 0 0 1px\",\r\n};\r\n\r\nconst clearIconPath = \"M 14.348 14.849 c -0.469 0.469 -1.229 0.469 -1.697 0 l -2.651 -3.03 l -2.651 3.029 c -0.469 0.469 -1.229 0.469 -1.697 0 c -0.469 -0.469 -0.469 -1.229 0 -1.697 l 2.758 -3.15 l -2.759 -3.152 c -0.469 -0.469 -0.469 -1.228 0 -1.697 s 1.228 -0.469 1.697 0 l 2.652 3.031 l 2.651 -3.031 c 0.469 -0.469 1.228 -0.469 1.697 0 s 0.469 1.229 0 1.697 l -2.758 3.152 l 2.758 3.15 c 0.469 0.469 0.469 1.229 0 1.698 Z\";\r\n\r\nconst dropdownIconPath = \"M 4.516 7.548 c 0.436 -0.446 1.043 -0.481 1.576 0 l 3.908 3.747 l 3.908 -3.747 c 0.533 -0.481 1.141 -0.446 1.574 0 c 0.436 0.445 0.408 1.197 0 1.615 c -0.406 0.418 -4.695 4.502 -4.695 4.502 c -0.217 0.223 -0.502 0.335 -0.787 0.335 s -0.57 -0.112 -0.789 -0.335 c 0 0 -4.287 -4.084 -4.695 -4.502 s -0.436 -1.17 0 -1.615 Z\";\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tactive: Boolean,\r\n\t\tcustomClassNames: Object,\r\n\t\tdisplay: Function,\r\n\t\tisMulti: Boolean,\r\n\t\tmultiSelRenderer: Object,\r\n\t\tplaceholder: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t\tsingleSelRenderer: Object,\r\n\t\tselection: Array,\r\n\t\ttheme: String,\r\n\t\tvalue: {\r\n\t\t\ttype: String,\r\n\t\t\tdefault: '',\r\n\t\t},\r\n\t},\r\n\tcomponents: {\r\n\t\tControlIcon,\r\n\t\tSelectionItem,\r\n\t},\r\n\tdata: function () {\r\n\t\tconst { placeholder, phContent } = this.getPlaceholder();\r\n\r\n\t\treturn {\r\n\t\t\tclasses: {\r\n\t\t\t\twrapper: this.getWrapperClassName(),\r\n\t\t\t\tplaceholder,\r\n\t\t\t},\r\n\t\t\tpath: {\r\n\t\t\t\tclear: clearIconPath,\r\n\t\t\t\tdropdown: dropdownIconPath,\r\n\t\t\t},\r\n\t\t\tphContent,\r\n\t\t\tstyles: {\r\n\t\t\t\tcontainer: contentHolderStyle,\r\n\t\t\t\tinput: Object.assign({}, inputStyle),\r\n\t\t\t\tfield: fieldStyle,\r\n\t\t\t},\r\n\t\t\twidth: 2,\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tclear: function () {\r\n\t\t\tthis.$refs.contentHolder.innerText = '';\r\n\t\t\tthis.styles.input.width = \"2px\";\r\n\t\t},\r\n\t\tfocus: function () {\r\n\t\t\tthis.$refs.input.focus();\r\n\t\t},\r\n\t\tselect: function () {\r\n\t\t\tif (this.value === '') {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst { input } = this.$refs;\r\n\t\t\tconst start = input.selectionStart;\r\n\t\t\tconst end = input.selectionEnd;\r\n\r\n\t\t\tif (start < end) {\r\n\t\t\t\tinput.setSelectionRange(this.value.length, this.value.length);\r\n\t\t\t} else {\r\n\t\t\t\tinput.select();\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetWrapperClassName: function () {\r\n\t\t\tlet wrapperClassName = !this.theme\r\n\t\t\t\t? \"vue_ahead__control_wrapper vue_ahead__regular_theme\"\r\n\t\t\t\t: \"vue_ahead__control_wrapper form-control\";\r\n\r\n\t\t\t// console.log(this.theme);\r\n\r\n\t\t\tif (this.customClassNames && this.customClassNames.input) {\r\n\t\t\t\twrapperClassName += \" \" + this.customClassNames.input;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.active) {\r\n\t\t\t\tif (this.customClassNames && this.customClassNames.active) {\r\n\t\t\t\t\twrapperClassName += \" \" + this.customClassNames.active;\r\n\t\t\t\t} else {\r\n\t\t\t\t\twrapperClassName += !this.theme\r\n\t\t\t\t\t\t? \" vue_ahead__control_active\"\r\n\t\t\t\t\t\t: \" vue_ahead__themed_control_active\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn wrapperClassName;\r\n\t\t},\r\n\t\tgetSelectionKey: function (item, index) {\r\n\t\t\treturn index.toString() + '#' + getItemLabel(item).substr(0, 5);\r\n\t\t},\r\n\t\tgetPlaceholder: function () {\r\n\t\t\tconst ph = {\r\n\t\t\t\tplaceholder: \"vue_ahead__plain_text\",\r\n\t\t\t\tphContent: {\r\n\t\t\t\t\tcontent: '',\r\n\t\t\t\t\ttitle: '',\r\n\t\t\t\t},\r\n\t\t\t};\r\n\r\n\t\t\tif (this.value !== '') {\r\n\t\t\t\tph.phContent.content = '';\r\n\t\t\t\tph.phContent.title = this.value;\r\n\r\n\t\t\t\treturn ph;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.isMulti && this.selection.length === 1) {\r\n\t\t\t\tph.placeholder += \" vue_ahead__plain_text_values\";\r\n\t\t\t\tph.phContent.content =\r\n\t\t\t\t\tgetDisplay(this.selection[0], this.display, 'selection');\r\n\t\t\t} else if (this.selection.length === 0) {\r\n\t\t\t\tph.phContent.content = this.placeholder || '';\r\n\t\t\t}\r\n\r\n\t\t\t// the selection renderer shall take care of the title (i.e. the\r\n\t\t\t// hover over tip)\r\n\t\t\tph.phContent.title = ph.phContent.content;\r\n\r\n\t\t\tif (ph.phContent.content && ph.phContent.content.length > 32) {\r\n\t\t\t\tph.phContent.content = ph.phContent.content.substr(0, 30) + \" ...\";\r\n\t\t\t}\r\n\r\n\t\t\treturn ph;\r\n\t\t},\r\n\t\tgetItemClass: function (item) {\r\n\t\t\tif (!item) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\treturn item[\"src\"][\"class\"] || null;\r\n\t\t},\r\n\t\thandleFocus: function (evt) {\r\n\t\t\t// check if it's the icons that get the focus\r\n\t\t\tlet focusInput = evt && evt.target && evt.target.nodeName === \"INPUT\";\r\n\r\n\t\t\t// bubble up the icon focus information\r\n\t\t\tthis.$emit('focus', evt, focusInput ? 'input' : 'icon');\r\n\t\t},\r\n\t\thandleInput: function (evt) {\r\n\t\t\tconst val = evt && evt.target && evt.target.value || '';\r\n\r\n\t\t\tthis.$refs.contentHolder.innerText = val;\r\n\t\t\tthis.styles.input.width = `${this.$refs.contentHolder.offsetWidth + 2}px`;\r\n\r\n\t\t\tthis.$emit('change', evt, val);\r\n\t\t},\r\n\t\thandleKeydown: function (evt, keyCode) {\r\n\t\t\tif (!keyCode) {\r\n\t\t\t\tif (!evt) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tkeyCode = evt.keyCode || 0;\r\n\t\t\t}\r\n\r\n\t\t\tswitch (keyCode) {\r\n\t\t\t\tcase 8:\r\n\t\t\t\t\t// backspace\r\n\t\t\t\t\tif (this.isMulti && this.value === '' && this.selection.length > 0) {\r\n\t\t\t\t\t\t// this.$emit('special-key', 'backspace');\r\n\t\t\t\t\t\tconst item = this.selection[this.selection.length - 1];\r\n\t\t\t\t\t\tthis.$emit('item-removal', evt, item);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\t// tab\r\n\t\t\t\t\tif (!evt.shiftKey) {\r\n\t\t\t\t\t\tthis.$emit('special-key', 'tab');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\t// enter: selection\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.$emit('special-key', 'enter');\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 27:\r\n\t\t\t\t\t// esc\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.$emit('special-key', 'esc');\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\t// arrow up\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\t// arrow down\r\n\t\t\t\t\tevt.preventDefault();\r\n\t\t\t\t\tthis.$emit('special-key', keyCode === 38 ? 'up' : 'down');\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleIconKeydown: function (evt, type) {\r\n\t\t\tconst {keyCode} = evt;\r\n\r\n\t\t\tswitch (keyCode) {\r\n\t\t\t\tcase 13:\r\n\t\t\t\t\t// space\r\n\t\t\t\tcase 32:\r\n\t\t\t\t\t// enter\r\n\t\t\t\t\tthis.$emit('special-key', type, type === 'clear');\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 38:\r\n\t\t\t\t\t// up\r\n\t\t\t\tcase 40:\r\n\t\t\t\t\t// down\r\n\t\t\t\t\tthis.$emit('special-key', keyCode === 38 ? 'up' : 'down', true);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 9:\r\n\t\t\t\t\t// tab\r\n\t\t\t\t\tif (type === 'dropdown' && !evt.shiftKey) {\r\n\t\t\t\t\t\tthis.$emit('special-key', 'tab-out');\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\tcomputed: {\r\n\t\tsingleValClass: function () {\r\n\t\t\tif (this.selection && this.selection.length === 1) {\r\n\t\t\t\treturn this.getItemClass(this.selection[0]);\r\n\t\t\t}\r\n\r\n\t\t\treturn null;\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tvalue: function () {\r\n\t\t\tif (this.value === '') {\r\n\t\t\t\t// reset the input control width\r\n\t\t\t\tthis.clear();\r\n\t\t\t}\r\n\r\n\t\t\t// update the display style and/or content\r\n\t\t\tconst { placeholder, phContent } = this.getPlaceholder();\r\n\r\n\t\t\tthis.classes.placeholder = placeholder;\r\n\t\t\tthis.phContent = phContent;\r\n\t\t},\r\n\t\tselection: function () {\r\n\t\t\tconst { placeholder, phContent } = this.getPlaceholder();\r\n\r\n\t\t\tthis.classes.placeholder = placeholder;\r\n\t\t\tthis.phContent = phContent;\r\n\t\t},\r\n\t\tactive: function () {\r\n\t\t\tthis.classes.wrapper = this.getWrapperClassName();\r\n\t\t},\r\n\t\tcustomClassNames: function () {\r\n\t\t\tthis.classes.wrapper = this.getWrapperClassName();\r\n\t\t},\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.vue_ahead__control_wrapper {\r\n\t-webkit-box-align: center;\r\n\t-webkit-box-pack: justify;\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex-wrap: wrap;\r\n\talign-items: center;\r\n\tbox-sizing: border-box;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.vue_ahead__regular_theme {\r\n\tpadding: 0 6px;\r\n\tbackground-color: rgb(255, 255, 255);\r\n\tborder: 1px solid rgb(204, 204, 204);\r\n\tborder-radius: 2px;\r\n\ttransition: all 100ms ease 0s;\r\n}\r\n\r\n/* Theme accommodations */\r\n.vue_ahead__control_wrapper.form-control {\r\n\tpadding-right: 6px;\r\n\tpadding-top: 4px;\r\n}\r\n\r\n.vue_ahead__control_wrapper.vue_ahead__control_active {\r\n\tborder: 1px solid blue;\r\n}\r\n\r\n/* Theme accommodations */\r\n.vue_ahead__control_wrapper.vue_ahead__themed_control_active {\r\n\tcolor: #495057;\r\n\tbackground-color: #fff;\r\n\tborder-color: #80bdff;\r\n\toutline: 0;\r\n\tbox-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);\r\n}\r\n\r\n.vue_ahead__input_container {\r\n\tpadding: 2px 0;\r\n\tcolor: rgb(51, 51, 51);\r\n\tposition: relative;\r\n\tdisplay: flex;\r\n\tflex: 1 1 0;\r\n\tflex-wrap: wrap;\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n\tvisibility: visible;\r\n\tcursor: text;\r\n\twidth: 100%;\r\n}\r\n\r\n.vue_ahead__plain_text {\r\n\tposition: absolute;\r\n\ttop: 50%;\r\n\tcolor: rgb(128, 128, 128);\r\n\tmargin: 0;\r\n\tpadding: 0 1px;\r\n\ttransform: translateY(-50%);\r\n\tbox-sizing: border-box;\r\n\toverflow: hidden;\r\n\ttext-overflow: ellipsis;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n}\r\n\r\n.vue_ahead__plain_text.vue_ahead__plain_text_values {\r\n\tcolor: inherit;\r\n}\r\n\r\n.vue_ahead__icons_container {\r\n\t-webkit-box-align: center;\r\n\talign-items: center;\r\n\talign-self: stretch;\r\n\tdisplay: flex;\r\n\tflex-shrink: 0;\r\n\tbox-sizing: border-box;\r\n\tpadding-bottom: 1px;\r\n}\r\n\r\n/* Theme accommodations */\r\n.form-control > .vue_ahead__icons_container {\r\n\tpadding-bottom: 2px;\r\n}\r\n\r\n.vue_ahead__action_icon {\r\n\tcolor: rgb(204, 204, 204);\r\n\tdisplay: flex;\r\n\tbox-sizing: border-box;\r\n\tpadding: 4px 2px;\r\n\ttransition: color 150ms ease 0s;\r\n}\r\n\r\n.vue_ahead__action_icon.vue_ahead__clear_icon {\r\n\tpadding-right: 4px;\r\n}\r\n\r\n.vue_ahead__action_icon.vue_ahead__dropdown_icon {\r\n\tmargin-bottom: 1px;\r\n}\r\n\r\n.vue_ahead__action_icon:hover {\r\n\tcursor: pointer;\r\n\tcolor: rgb(153, 153, 153);\r\n}\r\n\r\n.vue_ahead__action_icon:active {\r\n\toutline: none !important;\r\n\tcolor: rgb(92, 92, 92);\r\n}\r\n\r\n.vue_ahead__action_icon:focus {\r\n\tcolor: rgb(153, 153, 153);\r\n\toutline: 2px dotted gray;\r\n}\r\n\r\n.vue_ahead__action_icon_separator {\r\n\talign-self: stretch;\r\n\tbackground-color: rgb(204, 204, 204);\r\n\tmargin: 6px 2px;\r\n\twidth: 1px;\r\n\tbox-sizing: border-box;\r\n}\r\n</style>\r\n","<template>\r\n<div\r\n\tref=\"elem\"\r\n\t:class=\"className\"\r\n\t@mouseover.capture=\"$emit('mouseover', $event, index)\"\r\n\t@mousedown=\"$emit('mousedown', $event, index)\"\r\n>\r\n\t<span v-if=\"created\" :style=\"styles.prefix\">Create: </span><span :style=\"styles.text\">{{ content[0] }}</span><span v-if=\"content[1]\" :style=\"styles.hl\">{{ content[1] }}</span><span v-if=\"content[2]\" :style=\"styles.text\">{{ content[2] }}</span>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { getItemLabel } from '../helpers/utils';\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tactive: Boolean,\r\n\t\tcreated: Boolean,\r\n\t\thighlightSource: String,\r\n\t\titem: Object,\r\n\t\tindex: Number,\r\n\t},\r\n\tdata: function () {\r\n\t\treturn {\r\n\t\t\tclassName: this.getClassName(),\r\n\t\t\tcontent: this.getDisplay(),\r\n\t\t\tstyles: {\r\n\t\t\t\tprefix: {\r\n\t\t\t\t\tpaddingRight: \"2px\",\r\n\t\t\t\t\topacity: 0.8,\r\n\t\t\t\t\tfontWeight: 600,\r\n\t\t\t\t},\r\n\t\t\t\ttext: {\r\n\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\topacity: this.highlightSource ? 0.8 : 1,\r\n\t\t\t\t},\r\n\t\t\t\thl: {\r\n\t\t\t\t\tpadding: 0,\r\n\t\t\t\t\tmargin: 0,\r\n\t\t\t\t\tfontWeight: 600,\r\n\t\t\t\t\ttextDecoration: \"underline\",\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tgetClassName: function () {\r\n\t\t\tlet base = this.active ? \"vue_ahead__menu_option vue_ahead__menu_option_active\" : \"vue_ahead__menu_option\";\r\n\r\n\t\t\tif (this.class && this.active) {\r\n\t\t\t\tbase += \" \" + this.class;\r\n\t\t\t}\r\n\r\n\t\t\treturn base;\r\n\t\t},\r\n\t\tgetDisplay: function () {\r\n\t\t\tconst base = getItemLabel(this.item);\r\n\r\n\t\t\tif (this.highlightSource && !this.created && base) {\r\n\t\t\t\tconst src = base.trim().toLowerCase();\r\n\t\t\t\tconst tgt = this.highlightSource.trim().toLowerCase();\r\n\t\t\t\tconst pos = src.indexOf(tgt);\r\n\r\n\t\t\t\tif (pos >= 0) {\r\n\t\t\t\t\treturn [\r\n\t\t\t\t\t\tpos === 0 ? null : base.substring(0, pos),\r\n\t\t\t\t\t\tbase.substring(pos, pos + tgt.length),\r\n\t\t\t\t\t\tbase.substring(pos + tgt.length),\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn [base, null, null];\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tactive: function () {\r\n\t\t\tthis.className = this.getClassName();\r\n\r\n\t\t\tif (this.active) {\r\n\t\t\t\tconst { offsetTop, scrollHeight } = this.$refs.elem;\r\n\t\t\t\tthis.$emit('item-activated', offsetTop, scrollHeight);\r\n\t\t\t}\r\n\t\t},\r\n\t\thighlightSource: function () {\r\n\t\t\tthis.content = this.getDisplay();\r\n\t\t\tthis.styles.text['opacity'] = this.highlightSource ? 0.8 : 1;\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n.vue_ahead__menu_option {\r\n\tbackground-color: transparent;\r\n\tcolor: inherit;\r\n\tcursor: default;\r\n\tdisplay: block;\r\n\tfont-size: inherit;\r\n\twidth: 100%;\r\n\tuser-select: none;\r\n\tbox-sizing: border-box;\r\n\tpadding: 6px 12px;\r\n}\r\n\r\n.vue_ahead__menu_option.vue_ahead__menu_option_active {\r\n\tbackground-color: rgb(222, 235, 255);\r\n}\r\n</style>","<template>\r\n<div class=\"vue_ahead__group_label\" @mousedown=\"$emit('mousedown', $event)\">\r\n\t\t<span>\r\n\t\t\t{{ data.label || \"Default\" }}\r\n\t\t</span>\r\n\t\t<span class=\"vue_ahead__group_label_icon\">\r\n\t\t\t{{ data.count || 0 }}\r\n\t\t</span>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\tprops: {\r\n\t\tdata: Object,\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.vue_ahead__group_label {\r\n\tcolor: rgb(153, 153, 153);\r\n\tcursor: default;\r\n\tdisplay: block;\r\n\tfont-size: 75%;\r\n\tfont-weight: 500;\r\n\tmargin-bottom: 0.25em;\r\n\tpadding: 2px 12px;\r\n\ttext-transform: uppercase;\r\n\tbox-sizing: border-box;\r\n\tdisplay: flex;\r\n\talign-items: center;\r\n\tjustify-content: space-between;\r\n}\r\n\r\n.vue_ahead__group_label_icon {\r\n\tbackground-color: #EBECF0;\r\n\tborder-radius: 0.75em;\r\n\tcolor: #172B4D;\r\n\tdisplay: inline-block;\r\n\tfont-size: 10;\r\n\tfont-weight: normal;\r\n\tline-height: 1;\r\n\ttext-align: center;\r\n\tmin-width: 1;\r\n\tpadding: 0.16666666666667em 0.5em;\r\n}\r\n</style>","<template>\r\n<div :class=\"className\">\r\n\t<div\r\n\t\tv-if=\"shield\"\r\n\t\t:style=\"styles.shield\"\r\n\t\t@mousedown.capture.stop=\"$emit('shield-click', $event)\"\r\n\t>\r\n\t\t<h5 v-show=\"shieldVisible\" :style=\"styles.title\">\r\n\t\t\tLoading ...\r\n\t\t</h5>\r\n\t</div>\r\n\t<div\r\n\t\tclass=\"vue_ahead__dropdown_container\"\r\n\t\tref=\"contentWrapper\"\r\n\t>\r\n\t\t<div v-for=\"(item, idx) in options\" :key=\"item.key\">\r\n\t\t\t<GroupLabel\r\n\t\t\t\tv-if=\"groups && groups.hasOwnProperty(idx)\"\r\n\t\t\t\t:data=\"groups[idx]\"\r\n\t\t\t\t@mousedown.stop=\"handleLabelClicked\"\r\n\t\t\t/>\r\n\t\t\t<Item\r\n\t\t\t\tv-if=\"!optionRenderer\"\r\n\t\t\t\t:active=\"activeIdx === idx\"\r\n\t\t\t\t:class=\"(customClassNames && customClassNames.activeItem) || ''\"\r\n\t\t\t\t:created=\"item['type'] === 'created'\"\r\n\t\t\t\t:highlightSource=\"highlightSource\"\r\n\t\t\t\t:item=\"getMenuItem(item)\"\r\n\t\t\t\t:index=\"idx\"\r\n\t\t\t\t@mouseover=\"handleMouseOver\"\r\n\t\t\t\t@mousedown.stop=\"$emit('item-selection', $event, item.key)\"\r\n\t\t\t\t@item-activated=\"handleItemActivated\"\r\n\t\t\t/>\r\n\t\t\t<div\r\n\t\t\t\tv-else\r\n\t\t\t\t:class=\"(customClassNames && customClassNames.activeItem) || ''\"\r\n\t\t\t\t:created=\"item['type'] === 'created'\"\r\n\t\t\t\t:ref=\"'item_' + idx.toString()\"\r\n\t\t\t\t@mouseover=\"handleMouseOver($event, idx)\"\r\n\t\t\t\t@mousedown.stop=\"$emit('item-selection', $event, item.key)\"\r\n\t\t\t>\r\n\t\t\t\t<component\r\n\t\t\t\t\t:is=\"optionRenderer\"\r\n\t\t\t\t\t:active=\"activeIdx === idx\"\r\n\t\t\t\t\t:highlightSource=\"highlightSource\"\r\n\t\t\t\t\t:item=\"getMenuItem(item)\"\r\n\t\t\t\t\t:index=\"idx\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div\r\n\t\t\tv-if=\"!options || options.length === 0\"\r\n\t\t\tclass=\"vue_ahead__dropdown_empty_options\"\r\n\t\t>\r\n\t\t\t{{ emptyText }}\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Item from \"./dropdownItem.vue\";\r\nimport GroupLabel from './dropdownLabel.vue';\r\n\r\nconst shieldStyle = {\r\n\tposition: 'absolute',\r\n\tdisplay: 'default',\r\n\ttop: 0,\r\n\tleft: 0,\r\n\twidth: '100%',\r\n\theight: '100%',\r\n\ttextAlign: 'center',\r\n\tjustifyContent: 'center',\r\n\tzIndex: 65535,\r\n\tbackgroundColor: 'transparent',\r\n\tuserSelect: 'none',\r\n};\r\n\r\nconst shieldTitleStyle = {\r\n\tposition: 'absolute',\r\n\ttop: '50%',\r\n\tleft: '0',\r\n\ttextAlign: 'center',\r\n\tmargin: '-12px 0 0 0',\r\n\tpadding: 0,\r\n\twidth: '100%',\r\n\theight: '100%',\r\n\topacity: 1,\r\n};\r\n\r\nexport default {\r\n\tprops: {\r\n\t\tautoScroll: Boolean,\r\n\t\tcreateable: Boolean,\r\n\t\tcustomClassNames: Object,\r\n\t\tgroups: Object,\r\n\t\thighlightSource: String,\r\n\t\tisRemoteInit: Boolean,\r\n\t\toptionRenderer: Object,\r\n\t\toptions: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: new Array(),\r\n\t\t},\r\n\t\t// Enum:\r\n\t\t// 0 -- new results;\r\n\t\t// 1 -- selection/removal;\r\n\t\treason: Number,\r\n\t\tshield: Boolean,\r\n\t},\r\n\tcomponents: {\r\n\t\tGroupLabel,\r\n\t\tItem,\r\n\t},\r\n\tdata: function () {\r\n\t\tthis._manualMove = \"\";\r\n\t\tthis._moveDebounceId = null;\r\n\t\tthis._debounceId = null;\r\n\r\n\t\treturn {\r\n\t\t\tactiveIdx: 0,\r\n\t\t\tclassName: this.getClassName(),\r\n\t\t\tshieldVisible: false,\r\n\t\t\tstyles: {\r\n\t\t\t\tshield: shieldStyle,\r\n\t\t\t\ttitle: shieldTitleStyle,\r\n\t\t\t},\r\n\t\t\temptyText: this.getEmptyText(),\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tgetClassName: function () {\r\n\t\t\tlet className = \"vue_ahead__dropdown_wrapper\";\r\n\r\n\t\t\tif (this.customClassNames && this.customClassNames.dropdown) {\r\n\t\t\t\tclassName += \" \" + this.customClassNames.dropdown;\r\n\t\t\t}\r\n\r\n\t\t\treturn className;\r\n\t\t},\r\n\t\tgetEmptyText: function () {\r\n\t\t\tif (this.isRemoteInit) {\r\n\t\t\t\treturn \"Type to search\";\r\n\t\t\t}\r\n\r\n\t\t\tif (this.createable) {\r\n\t\t\t\treturn \"No option and unable to create\";\r\n\t\t\t}\r\n\r\n\t\t\treturn \"No option\";\r\n\t\t},\r\n\t\tgetMenuItem: function (item) {\r\n\t\t\tif (item['type'] === 'created') {\r\n\t\t\t\treturn item;\r\n\t\t\t}\r\n\r\n\t\t\treturn item['src'];\r\n\t\t},\r\n\t\tmove: function (dir) {\r\n\t\t\tlet { activeIdx } = this;\r\n\r\n\t\t\tif (dir === 'down') {\r\n\t\t\t\tactiveIdx++;\r\n\t\t\t} else {\r\n\t\t\t\tactiveIdx--;\r\n\t\t\t}\r\n\r\n\t\t\tif (activeIdx >= this.options.length) {\r\n\t\t\t\tactiveIdx = this.options.length - 1;\r\n\t\t\t}\r\n\r\n\t\t\tif (activeIdx < 0) {\r\n\t\t\t\tactiveIdx = 0;\r\n\t\t\t}\r\n\r\n\t\t\tif (activeIdx !== this.activeIdx) {\r\n\t\t\t\tthis._manualMove = dir;\r\n\t\t\t\tthis.activeIdx = activeIdx;\r\n\t\t\t}\r\n\t\t},\r\n\t\tselect: function () {\r\n\t\t\tif (this.activeIdx < 0 || this.activeIdx >= this.options.length) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst item = this.options[this.activeIdx];\r\n\t\t\tthis.$emit('item-selection', null, item.key);\r\n\t\t},\r\n\t\thandleLabelClicked: function (evt) {\r\n\t\t\tconst item = this.options[this.activeIdx];\r\n\t\t\tthis.$emit('item-selection', evt, item.key);\r\n\t\t},\r\n\t\thandleItemActivated: function (offsetTop, offsetHeight = 30) {\r\n\t\t\t// console.log('scroll:', offsetTop, offsetHeight, this._manualMove);\r\n\r\n\t\t\tif (this.options.length < 4 || !this._manualMove) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst wrapper = this.$refs.contentWrapper;\r\n\t\t\t// const { height } = wrapper.getBoundingClientRect();\r\n\t\t\tconst { scrollTop, clientHeight } = wrapper;\r\n\r\n\t\t\tlet target = scrollTop;\r\n\r\n\t\t\tif (\r\n\t\t\t\toffsetTop + offsetHeight > scrollTop + clientHeight // height\r\n\t\t\t\t&& this._manualMove === 'down'\r\n\t\t\t) {\r\n\t\t\t\ttarget = scrollTop + offsetHeight;\r\n\t\t\t} else if (\r\n\t\t\t\toffsetTop < scrollTop + 5\r\n\t\t\t\t&& this._manualMove === 'up'\r\n\t\t\t) {\r\n\t\t\t\ttarget = scrollTop - offsetHeight;\r\n\t\t\t}\r\n\r\n\t\t\tif (target !== scrollTop) {\r\n\t\t\t\tif (this._moveDebounceId) {\r\n\t\t\t\t\tclearTimeout(this._moveDebounceId);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this._moveDelay > 0) {\r\n\t\t\t\t\tthis._moveDebounceId = setTimeout(() => wrapper.scrollTo(0, target), this._moveDelay);\r\n\t\t\t\t} else {\r\n\t\t\t\t\twrapper.scrollTo(0, target);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._manualMove = '';\r\n\t\t\tthis._moveDelay = 0;\r\n\t\t},\r\n\t\thandleMouseOver: function (_evt, idx) {\r\n\t\t\t// console.log('mouse over:', idx);\r\n\r\n\t\t\tif (idx < this.options.length) {\r\n\t\t\t\tthis.activeIdx = idx;\r\n\t\t\t} else {\r\n\t\t\t\tthis.activeIdx = this.options.length - 1;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.activeIdx < 0) {\r\n\t\t\t\tthis.activeIdx = 0;\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tactiveIdx: function (_, oldVal) {\r\n\t\t\tif (this.autoScroll && !this._manualMove) {\r\n\t\t\t\tthis._manualMove = this.activeIdx > oldVal ? \"down\" : \"up\";\r\n\t\t\t\tthis._moveDelay = 200;\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.optionRenderer) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst itemKey = `item_${this.activeIdx}`;\r\n\t\t\tif (this.$refs[itemKey] && this.$refs[itemKey].length === 1) {\r\n\t\t\t\tconst { offsetTop, offsetHeight } = this.$refs[itemKey][0];\r\n\t\t\t\tthis.handleItemActivated(offsetTop, offsetHeight);\r\n\t\t\t}\r\n\t\t},\r\n\t\tclassName: function () {\r\n\t\t\tthis.className = this.getClassName();\r\n\t\t},\r\n\t\tisRemoteInit: function (val) {\r\n\t\t\tif (val) {\r\n\t\t\t\t// only update the empty text here when resetting to the remote init\r\n\t\t\t\t// the search results will be updated when the shield is down.\r\n\t\t\t\tthis.emptyText = this.getEmptyText();\r\n\t\t\t}\r\n\t\t},\r\n\t\toptions: function () {\r\n\t\t\tif (this.reason === 0) {\r\n\t\t\t\tthis.activeIdx = 0;\r\n\t\t\t\tthis.$refs.contentWrapper.scrollTo(0, 0);\r\n\t\t\t} else if (this.activeIdx >= this.options.length) {\r\n\t\t\t\tthis.activeIdx = this.options.length - 1;\r\n\t\t\t}\r\n\t\t},\r\n\t\tshield: function () {\r\n\t\t\tif (this.shield) {\r\n\t\t\t\tif (this._debounceId) {\r\n\t\t\t\t\tclearTimeout(this._debounceId);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._debounceId = setTimeout(() => {\r\n\t\t\t\t\tthis.shieldVisible = true;\r\n\t\t\t\t\tthis.styles.shield['opacity'] = 0.75;\r\n\t\t\t\t\tthis.styles.shield['backdrop-filter'] = 'blur(3px)';\r\n\t\t\t\t\tthis.styles.shield['backgroundColor'] = '#F5F5F5';\r\n\t\t\t\t}, 300);\r\n\t\t\t} else {\r\n\t\t\t\tclearTimeout(this._debounceId);\r\n\t\t\t\tthis._debounceId = null;\r\n\r\n\t\t\t\tthis.shieldVisible = false;\r\n\t\t\t\tthis.styles.shield['opacity'] = 1;\r\n\t\t\t\tthis.styles.shield['backdrop-filter'] = '';\r\n\t\t\t\tthis.styles.shield['backgroundColor'] = 'transparent';\r\n\r\n\t\t\t\t// the shield is done and the results are out, update the empty text\r\n\t\t\t\tthis.emptyText = this.getEmptyText();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n</script>\r\n\r\n<style>\r\n.vue_ahead__dropdown_wrapper {\r\n\ttop: 100%;\r\n\tbackground-color: rgb(255, 255, 255);\r\n\tbox-shadow: rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 4px 11px;\r\n\tmargin: 8px 0;\r\n\tposition: absolute;\r\n\twidth: 100%;\r\n\tz-index: 1000;\r\n\tbox-sizing: border-box;\r\n\tborder-radius: 2px;\r\n\tanimation: vue_ahead__menu_appear 50ms;\r\n}\r\n\r\n@keyframes vue_ahead__menu_appear {\r\n\tfrom { opacity: 0; }\r\n\tto   { opacity: 1; }\r\n}\r\n\r\n.vue_ahead__dropdown_container {\r\n\tmax-height: 300px;\r\n\toverflow-y: auto;\r\n\tpadding: 6px 0;\r\n\tposition: relative;\r\n\tbox-sizing: border-box;\r\n\ttext-align: start;\r\n}\r\n\r\n.vue_ahead__dropdown_empty_options {\r\n\tcolor: rgb(153, 153, 153);\r\n\tcursor: default;\r\n\ttext-align: center;\r\n\tbox-sizing: border-box;\r\n\tpadding: 6px 12px;\r\n}\r\n</style>","const buildItem = (item, idx, keys, grouped) => {\r\n\tconst controlItem = { src: item, };\r\n\r\n\tif (!hasProperty(item, 'key')) {\r\n\t\titem['key'] = idx.toString() + \"#\" + randomSuffix();\r\n\t}\r\n\r\n\tlet key = item['key'];\r\n\tif (typeof key !== 'string') {\r\n\t\tkey = (key === null || key === undefined)\r\n\t\t\t? randomSuffix()\r\n\t\t\t: key.toString();\r\n\t}\r\n\r\n\tlet finalKey = key;\r\n\twhile (hasProperty(keys, finalKey)) {\r\n\t\tfinalKey = key + randomSuffix();\r\n\t}\r\n\r\n\tcontrolItem['key'] = finalKey;\r\n\r\n\tlet label = item['label'];\r\n\tif (typeof label !== 'string') {\r\n\t\tlabel = (label === null || label === undefined)\r\n\t\t\t? ''\r\n\t\t\t: label.toString();\r\n\t}\r\n\r\n\tcontrolItem['label'] = label;\r\n\r\n\tif (grouped) {\r\n\t\tlet groupKey = item['group'];\r\n\t\tif (typeof groupKey !== 'string') {\r\n\t\t\tgroupKey = (groupKey === null || groupKey === undefined)\r\n\t\t\t\t? \"default\"\r\n\t\t\t\t: groupKey.toString();\r\n\t\t}\r\n\r\n\t\tcontrolItem['group'] = groupKey;\r\n\t}\r\n\r\n\treturn controlItem;\r\n};\r\n\r\nconst hasProperty = (tgt, name) => {\r\n\treturn Object.prototype.hasOwnProperty.call(tgt, name);\r\n};\r\n\r\nconst randomSuffix = () => {\r\n\treturn Math.random().toString(36).substring(2, 8);\r\n};\r\n\r\nmodule.exports = {\r\n\tbuildItem,\r\n\thasProperty,\r\n\trandomSuffix,\r\n};","import { hasProperty } from \"./common.js\";\r\nimport axios from \"axios\";\r\n\r\nexport default class NativeEngine {\r\n\tconstructor(props) {\r\n\t\tif (props && props.remote && !axios && !props.remote.proxy) {\r\n\t\t\tthrow new Error(\"expecting `axios` module or a proxy settings to be provided before the control, found none ... \");\r\n\t\t}\r\n\r\n\t\tif (props && props.remote && props.remote.proxy && typeof props.remote.proxy !== 'function') {\r\n\t\t\tthrow new Error(\"expecting `remote`'s proxy to be a function returning a Promise, but found wrong primitive type ... \");\r\n\t\t}\r\n\r\n\t\tthis._props = props || {};\r\n\r\n\t\tthis._store = [];\r\n\t\tthis._cache = {\r\n\t\t\tlast: [],\r\n\t\t\tdata: {},\r\n\t\t};\r\n\r\n\t\tthis._transport = props.proxy ? props.proxy : axios;\r\n\r\n\t\tif (!this._props['cacheSize']) {\r\n\t\t\tthis._props['cacheSize'] = 10;\r\n\t\t}\r\n\t}\r\n\r\n\tadd(data = []) {\r\n\t\tif (data.length === 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (Array.isArray(data)) {\r\n\t\t\tthis._store.push(...data);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst label = data.toString();\r\n\t\tthis._store.push({ label: label, key: label });\r\n\t}\r\n\r\n\tquery(val, cb) {\r\n\t\tif (typeof val !== 'string') {\r\n\t\t\tval = val.toString();\r\n\t\t}\r\n\r\n\t\tval = val.trim().toLowerCase();\r\n\r\n\t\t//TODO: implement load more option\r\n\r\n\t\t// cache hit\r\n\t\tif (hasProperty(this._cache.data, val)) {\r\n\t\t\tconst data = this._cache.data[val];\r\n\r\n\t\t\tlet index = this._cache.last.indexOf(val);\r\n\t\t\tif (index >= 0) {\r\n\t\t\t\tthis._cache.last.splice(index, 1);\r\n\t\t\t\tthis._cache.last.push(val);\r\n\t\t\t}\r\n\r\n\t\t\treturn cb(data, val);\r\n\t\t}\r\n\r\n\t\t// remote search\r\n\t\tif (this._props.remote) {\r\n\t\t\tconst {\r\n\t\t\t\tdataParser,\r\n\t\t\t\tsettings,\r\n\t\t\t} = this._props.remote;\r\n\r\n\t\t\tconst remoteSettings = Object.assign({}, settings);\r\n\r\n\t\t\tif (remoteSettings['params']) {\r\n\t\t\t\tremoteSettings['params']['q'] = val;\r\n\t\t\t} else {\r\n\t\t\t\tremoteSettings['params'] = { q: val, };\r\n\t\t\t}\r\n\r\n\t\t\treturn this._transport(remoteSettings)\r\n\t\t\t\t.then(resp => {\r\n\t\t\t\t\t// format data if a formatter is passed\r\n\t\t\t\t\tconst data =\r\n            typeof dataParser === 'function'\r\n\t\t\t\t\t\t\t? dataParser(resp.data)\r\n\t\t\t\t\t\t\t: resp.data;\r\n\r\n\t\t\t\t\tif (this._store.length > 0) {\r\n\t\t\t\t\t\tconst extra = this._localSearch(val);\r\n\t\t\t\t\t\textra && extra.length > 0 && data.push(...extra);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis._updateCache(val, data);\r\n\r\n\t\t\t\t\treturn cb(data, val);\r\n\t\t\t\t})\r\n\t\t\t\t.catch(err => {\r\n\t\t\t\t\tconsole.error(\r\n\t\t\t\t\t\t\"[error] failed to fetch data from the remote server:\",\r\n\t\t\t\t\t\terr,\r\n\t\t\t\t\t\t\"\\nremote settings:\",\r\n\t\t\t\t\t\tsettings,\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t\treturn cb([], val);\r\n\t\t\t\t});\r\n\t\t}\r\n\r\n\t\tif (val === '') {\r\n\t\t\treturn cb(this._store, val);\r\n\t\t}\r\n\r\n\t\tconst data = this._localSearch(val);\r\n\t\tthis._updateCache(val, data);\r\n\r\n\t\treturn cb(data, val);\r\n\t}\r\n\r\n\tprefetch(cb) {\r\n\t\tif (!this._props.remote) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst params = {\r\n\t\t\tq: '',\r\n\t\t\tt: 'prefetch',\r\n\t\t};\r\n\r\n\t\tconst {\r\n\t\t\tdataParser,\r\n\t\t\tsettings,\r\n\t\t} = this._props.remote;\r\n\r\n\t\treturn this._transport(Object.assign({}, settings, { params }))\r\n\t\t\t.then(resp => {\r\n\t\t\t\t// format data if a formatter is passed\r\n\t\t\t\tlet data =\r\n\t\t\t\t\ttypeof dataParser === 'function'\r\n\t\t\t\t\t\t? dataParser(resp.data)\r\n\t\t\t\t\t\t: resp.data;\r\n\r\n\t\t\t\tcb(data);\r\n\t\t\t})\r\n\t\t\t.catch(err => {\r\n\t\t\t\tconsole.error(\"[error] failed to fetch data from remote server:\", err);\r\n\t\t\t});\r\n\t}\r\n\r\n\tsetOptions(options) {\r\n\t\tthis._props = options;\r\n\t}\r\n\r\n\tsetOption(name, option) {\r\n\t\tthis._props[name] = option;\r\n\t}\r\n\r\n\t_updateCache(data, val) {\r\n\t\tthis._cache.last.push(val);\r\n\t\tthis._cache.data[val] = data;\r\n\r\n\t\tif (this._cache.last.length > this._props.cacheSize) {\r\n\t\t\tlet [delKey] = this._cache.last.splice(0, 1);\r\n\t\t\tdelete this._cache.data[delKey];\r\n\t\t}\r\n\t}\r\n\r\n\t_localSearch(val) {\r\n\t\t// normal search workflow\r\n\t\tlet { matchEval } = this._props;\r\n\t\tif (typeof matchEval !== 'function') {\r\n\t\t\tmatchEval = null;\r\n\t\t}\r\n\r\n\t\treturn this._store.filter(\r\n\t\t\titem => {\r\n\t\t\t\tif (matchEval) {\r\n\t\t\t\t\treturn matchEval(val, item);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst label = item.label.toLowerCase();\r\n\t\t\t\treturn label && label.indexOf(val) >= 0;\r\n\t\t\t}\r\n\t\t);\r\n\t}\r\n}","<template>\r\n<div :class=\"className\">\r\n\t<Shield\r\n\t\t:on=\"shield\"\r\n\t\t@mousedown.capture.stop=\"handleShieldClick\"\r\n\t/>\r\n\t<Input\r\n\t\tref=\"inputControl\"\r\n\t\t:active=\"focusStatus !== 0\"\r\n\t\t:customClassNames=\"customClassNames\"\r\n\t\t:display=\"display\"\r\n\t\t:multiSelRenderer=\"multiSelRenderer\"\r\n\t\t:isMulti=\"isMulti\"\r\n\t\t:placeholder=\"placeholder\"\r\n\t\t:selection=\"selection.items\"\r\n\t\t:singleSelRenderer=\"singleSelRenderer\"\r\n\t\t:theme=\"theme\"\r\n\t\t:value=\"value\"\r\n\t\t@dblclick=\"handleDbClick\"\r\n\t\t@change=\"handleInputChange\"\r\n\t\t@blur=\"handleInputBlur\"\r\n\t\t@focus=\"handleFocus\"\r\n\t\t@mousedown=\"handleInputClick\"\r\n\t\t@icon-event=\"handleIconEvent\"\r\n\t\t@special-key=\"handleSpecialKey\"\r\n\t\t@item-removal=\"handleItemRemoval\"\r\n\t/>\r\n\t<Dropdown\r\n\t\tv-if=\"open\"\r\n\t\tref=\"dropdownControl\"\r\n\t\t:autoScroll=\"dropdownAutoScroll\"\r\n\t\t:createable=\"createable\"\r\n\t\t:customClassNames=\"customClassNames\"\r\n\t\t:groups=\"groups\"\r\n\t\t:highlightSource=\"highlight ? value.trim() : null\"\r\n\t\t:isRemoteInit=\"remote && value === ''\"\r\n\t\t:optionRenderer=\"optionRenderer\"\r\n\t\t:open=\"open\"\r\n\t\t:options=\"options\"\r\n\t\t:reason=\"reason\"\r\n\t\t:shield=\"shield\"\r\n\t\t@item-selection=\"handleItemSelection\"\r\n\t/>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport Shield from './components/shield.vue';\r\nimport Input from './components/input.vue';\r\nimport Dropdown from './components/dropdown.vue';\r\nimport { buildItem, hasProperty, randomSuffix } from './helpers/common';\r\nimport Engine from './helpers/engine';\r\n\r\nconst focusStatus = {\r\n\tNone: 0,\r\n\tInput: 1,\r\n\tIcon: 2,\r\n\tContainer: 3,\r\n\tDropdown: 4,\r\n\tShield: 5,\r\n\tPending: -1,\r\n};\r\n\r\nconst debounceShort = 20;\r\nconst debounceLong = 100;\r\nconst shieldTimeout = 10;\r\n\r\nexport default {\r\n\tinheritAttrs: false,\r\n\tname: \"VueAhead\",\r\n\tcomponents: {\r\n\t\tShield,\r\n\t\tInput,\r\n\t\tDropdown,\r\n\t},\r\n\tbeforeMount: function () {\r\n\t},\r\n\tbeforeDestroy: function () {\r\n\t\t//todo: send any remainder data to remote, if configured\r\n\t},\r\n\tprops: {\r\n\t\tcreateable: Boolean,\r\n\t\tcustomClassNames: Object,\r\n\t\tdisplay: Function,\r\n\t\tdropdownAutoScroll: Boolean,\r\n\t\tgrouped: Boolean,\r\n\t\thighlight: Boolean,\r\n\t\tinitOptions: Array,\r\n\t\tinitSelections: Array,\r\n\t\tisMulti: Boolean,\r\n\t\tmultiSelRenderer: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefualt: null,\r\n\t\t},\r\n\t\toptionRenderer: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: null,\r\n\t\t},\r\n\t\tplaceholder: String,\r\n\t\tremote: Object,\r\n\t\tsingleSelRenderer: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: null,\r\n\t\t},\r\n\t\ttheme: String,\r\n\t},\r\n\tdata() {\r\n\t\tif (this.remote && (!this.remote.settings && !this.remote.proxy)) {\r\n\t\t\tthrow new Error(\"the remote expects the remote object to have a 'settings' property, but found nothing ... \");\r\n\t\t}\r\n\r\n\t\tthis._keys = null;\r\n\t\tthis._shieldId = null;\r\n\t\tthis._debounceId = null;\r\n\r\n\t\tconst { source, options, selection, groups } = this.init();\r\n\r\n\t\tthis._engine = new Engine({ remote: this.remote || null });\r\n\t\tthis._engine.add(source);\r\n\r\n\t\treturn {\r\n\t\t\tclassName: this.getClassName(),\r\n\t\t\tfocusStatus: focusStatus.None,\r\n\t\t\tgroups,\r\n\t\t\topen: false,\r\n\t\t\toptions,\r\n\t\t\treason: 0,\r\n\t\t\tselection,\r\n\t\t\tsource,\r\n\t\t\tshield: false,\r\n\t\t\tshieldDisplay: \"none\",\r\n\t\t\tvalue: '',\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tinit: function () {\r\n\t\t\tlet source = [];\r\n\t\t\tlet initState = null;\r\n\r\n\t\t\tif (this.remote) {\r\n\t\t\t\tif (typeof this.remote[\"prefetch\"] === 'function') {\r\n\t\t\t\t\tthis.runPrefetcher(this.remote[\"prefetch\"]);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tsource = this.prepareOptions(this.initOptions);\r\n\t\t\t\tif (this.initSelections && this.initSelections.length > 0) {\r\n\t\t\t\t\tinitState = this.prepareInitState(source, this.initSelections);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tconst initOptions = initState ? initState['options'] : source;\r\n\t\t\tconst selection = initState ? initState['selection'] : { items: [], indices: {}, };\r\n\r\n\t\t\tconst { options, groups } = this.grouped ? this.buildOptionGroups(initOptions) : { options: initOptions, groups: null };\r\n\r\n\t\t\treturn { source, options, selection, groups, };\r\n\t\t},\r\n\t\tfocusInput: function (dropdownState = null) {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\t// console.log('moving focus to the input, before:', this.focusStatus);\r\n\r\n\t\t\t\tif (this.focusStatus !== focusStatus.Input) {\r\n\t\t\t\t\tthis.$refs.inputControl.focus();\r\n\t\t\t\t\tthis.open = dropdownState === null ? true : dropdownState;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.focusStatus = focusStatus.Input;\r\n\t\t\t}, 0);\r\n\t\t},\r\n\t\tfocuseReset: function () {\r\n\t\t\tthis.focusStatus = focusStatus.None;\r\n\t\t\tthis.open = false;\r\n\r\n\t\t\tthis.value = '';\r\n\t\t\tthis.resetOptions();\r\n\t\t},\r\n\t\tgetClassName: function () {\r\n\t\t\tlet className = \"vue_ahead__control_container\";\r\n\r\n\t\t\tif (this.class) {\r\n\t\t\t\tclassName += \" \" + this.class;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.customClassNames && this.customClassNames.control) {\r\n\t\t\t\tclassName += \" \" + this.customClassNames.control;\r\n\t\t\t}\r\n\r\n\t\t\treturn className;\r\n\t\t},\r\n\t\tresetOptions: function () {\r\n\t\t\tthis.reason = 0;\r\n\r\n\t\t\tif (this.remote) {\r\n\t\t\t\tif (typeof this.remote.prefetch === 'function') {\r\n\t\t\t\t\tthis.runPrefetcher(this.remote.prefetch, true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.source = [];\r\n\t\t\t\t\tthis.options = this.getOptions();\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.options = this.getOptions();\r\n\t\t},\r\n\t\tbuildOptionGroups: function (options) {\r\n\t\t\tif (!options || options.length === 0) {\r\n\t\t\t\treturn { options, groups: null };\r\n\t\t\t}\r\n\r\n\t\t\toptions = options.sort((a, b) => {\r\n\t\t\t\tif (a.type === \"created\") {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (b.type === \"created\") {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.group === \"default\") {\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (b.group === \"default\") {\r\n\t\t\t\t\treturn 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (a.group === b.group) {\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn a.group > b.group ? 1 : -1;\r\n\t\t\t});\r\n\r\n\t\t\tconst groups = {};\r\n\t\t\tlet currKey = '';\r\n\t\t\tlet lastIdx = -1;\r\n\t\t\tlet count = 0;\r\n\r\n\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\tif (options[i].group !== currKey) {\r\n\t\t\t\t\tif (lastIdx >= 0) {\r\n\t\t\t\t\t\tgroups[lastIdx] = { label: currKey, count, };\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tlastIdx = i;\r\n\t\t\t\t\tcurrKey = options[i].group;\r\n\t\t\t\t\tcount = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcount++;\r\n\t\t\t}\r\n\r\n\t\t\tif (currKey !== '' && lastIdx >= 0) {\r\n\t\t\t\t// push the last group into the store\r\n\t\t\t\tgroups[lastIdx] = { label: currKey, count, };\r\n\t\t\t}\r\n\r\n\t\t\t// console.log('groups:', groups, options);\r\n\r\n\t\t\treturn { options, groups, };\r\n\t\t},\r\n\t\tgetOptions: function (source) {\r\n\t\t\tif (!source) {\r\n\t\t\t\tsource = this.source || [];\r\n\t\t\t}\r\n\r\n\t\t\tconst { indices } = this.selection || {};\r\n\t\t\tif (!indices) {\r\n\t\t\t\treturn source;\r\n\t\t\t}\r\n\r\n\t\t\t// console.log('filtering:', indices, source);\r\n\r\n\t\t\tlet result = source.filter(item => !hasProperty(indices, item.key));\r\n\r\n\t\t\tif (this.grouped) {\r\n\t\t\t\tconst { options, groups } = this.buildOptionGroups(result);\r\n\t\t\t\tresult = options;\r\n\t\t\t\tthis.groups = groups;\r\n\t\t\t}\r\n\r\n\t\t\treturn result;\r\n\t\t},\r\n\t\tprepareOptions: function (options = []) {\r\n\t\t\tthis._keys = {};\r\n\r\n\t\t\tconst result =\r\n\t\t\t\toptions\r\n\t\t\t\t\t.filter(item => typeof item === \"object\" && !!item)\r\n\t\t\t\t\t.map((item, idx) => {\r\n\t\t\t\t\t\tconst controlItem = buildItem(item, idx, this._keys, this.grouped);\r\n\r\n\t\t\t\t\t\tthis._keys[controlItem.key] = null;\r\n\r\n\t\t\t\t\t\treturn controlItem;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t// console.log('keys:', this._keys, result);\r\n\r\n\t\t\treturn result || [];\r\n\t\t},\r\n\t\tprepareInitState: function (options, selections) {\r\n\t\t\tconst indices = {};\r\n\t\t\tconst remainder = [];\r\n\t\t\tconst items = [];\r\n\r\n\t\t\tfor (let i = 0; i < selections.length; i++) {\r\n\t\t\t\tlet key = selections[i];\r\n\t\t\t\tif (typeof key !== 'string') {\r\n\t\t\t\t\tkey = key.toString();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tindices[key] = null;\r\n\r\n\t\t\t\tif (!this.isMulti) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\tif (\r\n\t\t\t\t\thasProperty(indices, options[i]['key'])\r\n\t\t\t\t\t&& (this.isMulti || items.length === 0)\r\n\t\t\t\t) {\r\n\t\t\t\t\titems.push(options[i]);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tremainder.push(options[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\toptions: remainder,\r\n\t\t\t\tselection: {\r\n\t\t\t\t\titems,\r\n\t\t\t\t\tindices,\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tnotify: function (content) {\r\n\t\t\tif (!content) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.$emit(\"selection\", content, this.updateSelections);\r\n\t\t},\r\n\t\tupdateSelections: function (selections) {\r\n\t\t\tif (!Array.isArray(selections) || !selections.length) {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\"illegal action on updating selections: wanted an array, find:\",\r\n\t\t\t\t\tselections\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\tif (!this.isMulti && selections.length > 1) {\r\n\t\t\t\tselections = [selections[0]];\r\n\t\t\t}\r\n\r\n\t\t\tlet indices = {};\r\n\t\t\tfor (let i = 0; i < selections.length; i++) {\r\n\t\t\t\tindices[selections[i].key] = null;\r\n\t\t\t}\r\n\r\n\t\t\tthis.selection = {\r\n\t\t\t\titems: selections,\r\n\t\t\t\tindices,\r\n\t\t\t};\r\n\r\n\t\t\t// set the reason\r\n\t\t\tthis.reason = 1;\r\n\t\t\tthis.options = this.getOptions();\r\n\t\t},\r\n\t\tclear: function (force) {\r\n\t\t\tconst oldItems = this.selection.items;\r\n\r\n\t\t\tthis.selection = {\r\n\t\t\t\titems: [],\r\n\t\t\t\tindices: {},\r\n\t\t\t};\r\n\r\n\t\t\tthis.value = '';\r\n\t\t\tthis.reason = 1;\r\n\r\n\t\t\tif (!this.remote) {\r\n\t\t\t\tthis.options = this.getOptions();\r\n\t\t\t} else {\r\n\t\t\t\tif (typeof this.remote.prefetch === \"function\") {\r\n\t\t\t\t\tthis.runPrefetcher(this.remote.prefetch);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.source = [];\r\n\t\t\t\t\tthis.options = this.getOptions();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!force && oldItems && oldItems.length > 0) {\r\n\t\t\t\tthis.notify({\r\n\t\t\t\t\ttype: \"clear\",\r\n\t\t\t\t\titems: [],\r\n\t\t\t\t\tremoved: oldItems.map(item => item),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\treset: function () {\r\n\t\t\tconst oldItems = this.selection.items;\r\n\t\t\tconst { options, selection, groups } = this.init();\r\n\r\n\t\t\tthis.value = '';\r\n\t\t\tthis.reason = 1;\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.groups = groups;\r\n\t\t\tthis.selection = selection;\r\n\r\n\t\t\tif (oldItems && oldItems.length > 0) {\r\n\t\t\t\tthis.notify({\r\n\t\t\t\t\ttype: \"clear\",\r\n\t\t\t\t\titems: [],\r\n\t\t\t\t\tremoved: oldItems.map(item => item),\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},\r\n\t\tisValueCreateable: function (value = '', options = []) {\r\n\t\t\tif (value === '') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.length === 0) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\r\n\t\t\tvalue = value.trim().toLowerCase();\r\n\r\n\t\t\tfor (let i = 0; i < options.length; i++) {\r\n\t\t\t\tconst label = options[i]['label'];\r\n\r\n\t\t\t\tif (label.trim().toLowerCase() === value) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (this.selection.items && this.selection.items.length > 0) {\r\n\t\t\t\tfor (let i = 0; i < this.selection.items.length; i++) {\r\n\t\t\t\t\tconst key = this.selection.items[i]['label'];\r\n\r\n\t\t\t\t\tif (key.trim().toLowerCase() === value) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn true;\r\n\t\t},\r\n\t\trunPrefetcher: function (prefetcher, keepSelections) {\r\n\t\t\t/*\r\n\t\t\t * The prefetcher is used to fetch default menu options, it should\r\n\t\t\t * not need interaction with the `createable` features.\r\n\t\t\t */\r\n\t\t\tprefetcher((data, selections = []) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\r\n\t\t\t\t\tlet source = this.prepareOptions(data);\r\n\t\t\t\t\tlet initOptions = source;\r\n\t\t\t\t\tlet selection = this.selection;\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tselections\r\n\t\t\t\t\t\t&& selections.length > 0\r\n\t\t\t\t\t\t&& (!keepSelections || !this.selection.items.length)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\tconst initState = this.prepareInitState(source, selections);\r\n\t\t\t\t\t\tselection = initState.selection;\r\n\t\t\t\t\t\tinitOptions = initState.options;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst { options, groups } = this.grouped ? this.buildOptionGroups(initOptions) : { options: initOptions, groups: null };\r\n\r\n\t\t\t\t\tthis.source = source;\r\n\t\t\t\t\tthis.options = options;\r\n\t\t\t\t\tthis.selection = selection;\r\n\t\t\t\t\tthis.groups = groups;\r\n\t\t\t\t}, 0);\r\n\t\t\t});\r\n\t\t},\r\n\t\tshieldAction: function (up) {\r\n\t\t\tif (this._shieldId) {\r\n\t\t\t\tclearTimeout(this._shieldId);\r\n\t\t\t}\r\n\r\n\t\t\tif (up) {\r\n\t\t\t\tthis._shieldId = setTimeout(() => this.shield = true, shieldTimeout);\r\n\t\t\t} else {\r\n\t\t\t\tthis._shieldId = null;\r\n\t\t\t\tthis.shield = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleFocus: function (evt, targetType) {\r\n\t\t\tthis.focusStatus = targetType === \"input\" ? focusStatus.Input : focusStatus.Icon;\r\n\r\n\t\t\tif (this.focusStatus === focusStatus.Input) {\r\n\t\t\t\tthis.open = true;\r\n\t\t\t}\r\n\r\n\t\t\t// console.log('control get focus ... ', this.focusStatus, targetType);\r\n\t\t},\r\n\t\thandleShieldClick: function () {\r\n\t\t\t// move the cursor back to the input field\r\n\t\t\tthis.focusStatus = focusStatus.Shield;\r\n\t\t\tthis.focusInput();\r\n\t\t},\r\n\t\thandleDbClick: function () {\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.$refs.inputControl.select();\r\n\t\t\t}, 0);\r\n\t\t},\r\n\t\thandleInputClick: function () {\r\n\t\t\tthis.focusStatus = focusStatus.Container;\r\n\t\t\tthis.focusInput();\r\n\t\t},\r\n\t\thandleIconEvent: function (evt, type) {\r\n\t\t\t// handle icon's click event, this event will NOT be bubbled up and thus\r\n\t\t\t// we need to work on state setups we should do from the\r\n\t\t\t// 'handleInputClick' handler.\r\n\t\t\tthis.focusStatus = focusStatus.Container;\r\n\r\n\t\t\tswitch (type) {\r\n\t\t\t\tcase \"clear\":\r\n\t\t\t\t\tthis.clear();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"dropdown\":\r\n\t\t\t\t\tthis.open = !this.open;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// if the dropdown icon is clicked, toggle the dropdown menu, otherwise,\r\n\t\t\t// keep it open.\r\n\t\t\tthis.focusInput(type === \"dropdown\" ? this.open : null);\r\n\t\t},\r\n\t\thandleInputBlur: function (evt, force) {\r\n\t\t\tif (this.focusStatus <= focusStatus.Icon || force) {\r\n\t\t\t\tthis.focusStatus = focusStatus.Pending;\r\n\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// if some other control has grabbed the focus, we're done\r\n\t\t\t\t\tif (this.focusStatus !== focusStatus.Pending) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.focuseReset();\r\n\t\t\t\t}, 0);\r\n\t\t\t}\r\n\t\t},\r\n\t\thandleInputChange: function (evt, value) {\r\n\t\t\tthis.value = value;\r\n\t\t\tthis.open = true;\r\n\r\n\t\t\tif (value === '' || value.trim() === '') {\r\n\t\t\t\tthis.resetOptions();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tthis.shieldAction(true);\r\n\r\n\t\t\tif (this._debounceId) {\r\n\t\t\t\tclearTimeout(this._debounceId);\r\n\t\t\t}\r\n\r\n\t\t\tconst timeout = this.remote ? debounceLong : debounceShort;\r\n\t\t\tthis._debounceId = setTimeout(() => {\r\n\t\t\t\tthis._engine.query(value, (data = []) => {\r\n\t\t\t\t\t// console.log(data);\r\n\t\t\t\t\tlet source;\r\n\r\n\t\t\t\t\t// for remote search, the source change every time on a search\r\n\t\t\t\t\t// term, hence we need to update the source all the time\r\n\t\t\t\t\tif (this.remote) {\r\n\t\t\t\t\t\tthis.source = this.prepareOptions(data);\r\n\t\t\t\t\t\tsource = this.source;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsource = data;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (this.createable && this.isValueCreateable(value, source)) {\r\n\t\t\t\t\t\tlet key = value.trim().toLowerCase();\r\n\r\n\t\t\t\t\t\twhile (hasProperty(this._keys, key)) {\r\n\t\t\t\t\t\t\tkey += randomSuffix();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tsource.push({\r\n\t\t\t\t\t\t\tlabel: value,\r\n\t\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\t\tsrc: { label: value, class: \"vue_ahead__created_item\" },\r\n\t\t\t\t\t\t\tgroup: \"new\",\r\n\t\t\t\t\t\t\ttype: \"created\",\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tthis.reason = 0;\r\n\t\t\t\t\tthis.options = this.getOptions(source);\r\n\r\n\t\t\t\t\tthis.shieldAction(false);\r\n\t\t\t\t\tthis._debounceId = null;\r\n\t\t\t\t});\r\n\t\t\t}, timeout);\r\n\t\t},\r\n\t\thandleItemSelection: function (evt, key) {\r\n\t\t\tif (hasProperty(this.selection.indices, key)) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tlet { items, indices } = this.selection;\r\n\t\t\tlet last = null;\r\n\r\n\t\t\tif (!this.isMulti) {\r\n\t\t\t\tif (items && items.length > 0) {\r\n\t\t\t\t\tlast = items[0][\"type\"] === \"created\" ? items[0] : items[0][\"src\"];\r\n\t\t\t\t}\r\n\r\n\t\t\t\titems = [];\r\n\t\t\t\tindices = {};\r\n\t\t\t}\r\n\r\n\t\t\tfor (let i = 0; i < this.options.length; i++) {\r\n\t\t\t\tif (this.options[i].key !== key) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\titems.push(this.options[i]);\r\n\t\t\t\tindices[key] = null;\r\n\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis.selection = {\r\n\t\t\t\titems,\r\n\t\t\t\tindices,\r\n\t\t\t};\r\n\r\n\t\t\tthis.notify({\r\n\t\t\t\ttype: \"add\",\r\n\t\t\t\titems: this.selection.items.map(item => item),\r\n\t\t\t\treplaced: last,\r\n\t\t\t\tvalue: this.value,\r\n\t\t\t});\r\n\r\n\t\t\t// reset the value to empty after a selection\r\n\t\t\tif (this.value !== '') {\r\n\t\t\t\tthis.value = '';\r\n\t\t\t}\r\n\r\n\t\t\tthis.reason = 1;\r\n\t\t\tthis.options = this.getOptions();\r\n\r\n\t\t\t// console.log('item selection', key, this.selection.items, this.selection.indices);\r\n\r\n\t\t\tthis.focusStatus = focusStatus.Dropdown;\r\n\t\t\tthis.focusInput();\r\n\t\t},\r\n\t\thandleItemRemoval: function (evt, item) {\r\n\t\t\t// console.log('item removal: ', item);\r\n\r\n\t\t\t// invalid item removal\r\n\t\t\tif (!this.isMulti || !item || !item.key) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tconst { key } = item;\r\n\t\t\tlet { items, indices } = this.selection;\r\n\t\t\tlet deleted = null;\r\n\r\n\t\t\tdelete indices[key];\r\n\t\t\titems = items.filter(item => {\r\n\t\t\t\tif (item.key === key) {\r\n\t\t\t\t\tdeleted = item;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn true;\r\n\t\t\t});\r\n\r\n\t\t\tthis.selection = {\r\n\t\t\t\titems,\r\n\t\t\t\tindices,\r\n\t\t\t};\r\n\r\n\t\t\tthis.notify({\r\n\t\t\t\ttype: \"remove\",\r\n\t\t\t\titems: this.selection.items.map(item => item),\r\n\t\t\t\tremoved: [deleted],\r\n\t\t\t});\r\n\r\n\t\t\t// filter the options against the original list\r\n\t\t\tthis.reason = 1;\r\n\t\t\tthis.options =\r\n\t\t\t\tthis.getOptions().filter(item => !hasProperty(indices, item.key));\r\n\r\n\t\t\tthis.focusStatus = focusStatus.Icon;\r\n\t\t\tthis.focusInput();\r\n\t\t},\r\n\t\thandleSpecialKey: function (key, focusInput) {\r\n\t\t\t// console.log('getting special key: ', key);\r\n\r\n\t\t\tswitch (key) {\r\n\t\t\t\tcase 'enter':\r\n\t\t\t\t\tthis.$refs.dropdownControl\r\n\t\t\t\t\t\t&& this.$refs.dropdownControl.select();\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'esc':\r\n\t\t\t\t\tthis.open = false;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'clear':\r\n\t\t\t\t\tthis.clear();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'dropdown':\r\n\t\t\t\t\tthis.open = !this.open;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'up':\r\n\t\t\t\tcase 'down':\r\n\t\t\t\t\tif (!this.open) {\r\n\t\t\t\t\t\tthis.open = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$refs.dropdownControl\r\n\t\t\t\t\t\t\t&& this.$refs.dropdownControl.move(key);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tab':\r\n\t\t\t\t\tthis.focusStatus = focusStatus.Icon;\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase 'tab-out':\r\n\t\t\t\t\tthis.focuseReset();\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tif (focusInput) {\r\n\t\t\t\tthis.focusInput();\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n\twatch: {\r\n\t\tclass: function () {\r\n\t\t\tthis.className = this.getClassName();\r\n\t\t},\r\n\t\tcustomClasses: function () {\r\n\t\t\tthis.className = this.getClassName();\r\n\t\t},\r\n\t\tinitOptions: function () {\r\n\t\t\tthis.reset();\r\n\t\t},\r\n\t\tinitSelections: function () {\r\n\t\t\tthis.reset();\r\n\t\t},\r\n\t},\r\n};\r\n</script>\r\n\r\n<style>\r\n.vue_ahead__control_container {\r\n\tposition: relative;\r\n\tbox-sizing: border-box;\r\n}\r\n</style>\r\n","import VueAhead from './control.vue';\r\n\r\n// Declare install function executed by Vue.use()\r\nconst install = function (Vue) {\r\n\tif (install.installed) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tinstall.installed = true;\r\n\r\n\tVue.component('vue-ahead', VueAhead);\r\n};\r\n\r\n// Create module definition for Vue.use()\r\nconst plugin = {\r\n\tinstall,\r\n};\r\n\r\n// Auto-install when vue is found (eg. in browser via <script> tag)\r\nlet GlobalVue = null;\r\n\r\nif (typeof window !== 'undefined') {\r\n\tGlobalVue = window.Vue;\r\n} else if (typeof global !== 'undefined') {\r\n\tGlobalVue = global.Vue;\r\n}\r\n\r\nif (GlobalVue) {\r\n\tGlobalVue.use(plugin);\r\n}\r\n\r\nexport default VueAhead;\r\n"],"names":["const","let","hasProperty","data","this","VueAhead"],"mappings":"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,CAAC;AACF;CACA,SAAc,GAAG;CACjB,aAAC,UAAU;CACX,cAAC,WAAW;CACZ,eAAC,YAAY;CACb,CAAC;;;;;;CChBDD;;AAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;;AA9EA,CAEAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CC6FAA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEAA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEAA;CACA;CACA;CACA;;CAEAA;;CAEAA;;AAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CAIA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CAIA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;;;;CAEA;CACA;CACA;CACA;CACA;;;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;AArZA,CAEAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACYA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;;;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;AA1FA,CAEAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUA;CACA;CACA;CACA;CACA;;;AAhBA,CAEAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CC8DAA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEAA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;AAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;;CAEA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA;CACA;CACA;CACA;;CAEA;CACA;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CA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;;;;;;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;;;;CAEA;CACA;CACA;;;;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;;CACA;CACA;CACA;;CAEA;;CAEA;;CAEA;CACA;;;CACA;CACA;CACA;;CAEA;CACA;CACA;;;;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;;CACA;CACA;CACA;CACA;CACA;;;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;;;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CAIA;;CAEA;CACA;CACA;CACA;CACA;;;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;;;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;;;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;;CAEA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;;CAEA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;CAEA;;CAEA;CACA;CACA;;CAEA;CACA;CACA;CAIA;;CAEA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;CACA;;;AA9vBA,CAEAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CCAA;CACAA,IAAM,OAAO,GAAG,UAAU,GAAG,EAAE;CAC/B,CAAC,IAAI,OAAO,CAAC,SAAS,EAAE;CACxB,EAAE,OAAO;CACT,EAAE;AACF;CACA,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC;AAC1B;CACA,CAAC,GAAG,CAAC,SAAS,CAAC,WAAW,EAAEK,mBAAQ,CAAC,CAAC;CACtC,CAAC,CAAC;AACF;CACA;CACAL,IAAM,MAAM,GAAG;CACf,UAAC,OAAO;CACR,CAAC,CAAC;AACF;CACA;CACAC,IAAI,SAAS,GAAG,IAAI,CAAC;AACrB;CACA,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;CACnC,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC;CACxB,CAAC,MAAM,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;CAC1C,CAAC,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC;CACxB,CAAC;AACD;CACA,IAAI,SAAS,EAAE;CACf,CAAC,SAAS,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;CACvB,CAAC;;;;;;;;;;"}