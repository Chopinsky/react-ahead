(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{150:function(t,e,s){"use strict";const i={display:"none",backgroundColor:"transparent",width:"100%",height:"100%",position:"absolute",top:0,left:0,zIndex:1e5};var n={props:{on:Boolean},data:function(){return{style:Object.assign({},i)}},watch:{on:function(){this.style.display=this.on?"inherit":"none"}}},o=(s(206),s(6)),a=Object(o.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"vue_ahead__control_input_shield",style:t.style,on:{mousedown:function(e){return t.$emit("mousedown",e)}}})}),[],!1,null,null,null).exports,l={props:{path:{type:String,required:!0},size:{type:String,default:"16"},viewBox:{type:String,default:"0 0 18 18"}}},r=(s(207),Object(o.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{"aria-hidden":"true",tabIndex:"0"},on:{click:function(e){return t.$emit("click",e)},keydown:function(e){return t.$emit("keydown",e)}}},[s("svg",{staticClass:"icon",attrs:{x:"0px",y:"0px",focusable:"false","aria-hidden":"true",width:t.size,height:t.size,viewBox:t.viewBox}},[s("path",{attrs:{d:t.path}})])])}),[],!1,null,"3f4f4476",null).exports);var c={props:{display:Function,item:Object,index:Number},components:{ControlIcon:r},data:function(){const{text:t,title:e}=this.getDisplayText();return{text:t,title:e,iconPath:"M 14.348 14.849 c -0.469 0.469 -1.229 0.469 -1.697 0 l -2.651 -3.03 l -2.651 3.029 c -0.469 0.469 -1.229 0.469 -1.697 0 c -0.469 -0.469 -0.469 -1.229 0 -1.697 l 2.758 -3.15 l -2.759 -3.152 c -0.469 -0.469 -0.469 -1.228 0 -1.697 s 1.228 -0.469 1.697 0 l 2.652 3.031 l 2.651 -3.031 c 0.469 -0.469 1.228 -0.469 1.697 0 s 0.469 1.229 0 1.697 l -2.758 3.152 l 2.758 3.15 c 0.469 0.469 0.469 1.229 0 1.698 Z"}},methods:{getDisplayText:function(){const t=this.item.label||"...";let e=t;return e&&e.length>8&&(e=e.substr(0,6)+"..."),{text:e,title:t}},handleRemovalKeydown:function(t,e){if(!t)return;const{keyCode:s}=t;13!==s&&32!==s||(this.$emit("item-removal",t,e),t.preventDefault()),0===this.index&&9===s&&t.shiftKey&&this.$emit("special-key")}}},h=(s(208),Object(o.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue_ahead__selection_container"},[s("div",{staticClass:"vue_ahead__selection_content",attrs:{title:t.title}},[t._v("\r\n    "+t._s(t.text)+"\r\n  ")]),t._v(" "),s("ControlIcon",{staticClass:"vue_ahead__selection_removal",attrs:{title:"remove selection",path:t.iconPath},on:{keydown:function(e){return e.stopPropagation(),t.handleRemovalKeydown(e)}},nativeOn:{mousedown:function(e){return e.stopPropagation(),t.$emit("item-removal",e)}}})],1)}),[],!1,null,null,null).exports),u=s(179);const p={boxSizing:"content-box",color:"inherit",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",minWidth:"1px",width:"2px",height:"100%",outline:"none",border:0},d={position:"absolute",top:"0",left:"0",visibility:"hidden",height:"0",width:"min-content",overflow:"auto",whiteSpace:"pre",fontSize:"inherit",fontFamily:"inherit",fontWeight:"inherit",fontStyle:"normal",letterSpacing:"normal",textTransform:"none"},f={display:"inline-block",padding:"0 0 1px 1px"};var m={props:{active:Boolean,customClassNames:Object,display:Function,isMulti:Boolean,placeholder:{type:String,default:""},selection:Array,value:{type:String,default:""}},components:{ControlIcon:r,SelectionItem:h},data:function(){const{placeholder:t,phContent:e}=this.getPlaceholder();return{styles:{container:d,input:Object.assign({},p),field:f},classes:{wrapper:this.getWrapperClassName(),placeholder:t},path:{clear:"M 14.348 14.849 c -0.469 0.469 -1.229 0.469 -1.697 0 l -2.651 -3.03 l -2.651 3.029 c -0.469 0.469 -1.229 0.469 -1.697 0 c -0.469 -0.469 -0.469 -1.229 0 -1.697 l 2.758 -3.15 l -2.759 -3.152 c -0.469 -0.469 -0.469 -1.228 0 -1.697 s 1.228 -0.469 1.697 0 l 2.652 3.031 l 2.651 -3.031 c 0.469 -0.469 1.228 -0.469 1.697 0 s 0.469 1.229 0 1.697 l -2.758 3.152 l 2.758 3.15 c 0.469 0.469 0.469 1.229 0 1.698 Z",dropdown:"M 4.516 7.548 c 0.436 -0.446 1.043 -0.481 1.576 0 l 3.908 3.747 l 3.908 -3.747 c 0.533 -0.481 1.141 -0.446 1.574 0 c 0.436 0.445 0.408 1.197 0 1.615 c -0.406 0.418 -4.695 4.502 -4.695 4.502 c -0.217 0.223 -0.502 0.335 -0.787 0.335 s -0.57 -0.112 -0.789 -0.335 c 0 0 -4.287 -4.084 -4.695 -4.502 s -0.436 -1.17 0 -1.615 Z"},width:2,phContent:e}},methods:{clear:function(){this.$refs.contentHolder.innerText="",this.styles.input.width="2px"},focus:function(){this.$refs.input.focus()},select:function(){if(""===this.value)return;const{input:t}=this.$refs;t.selectionStart<t.selectionEnd?t.setSelectionRange(this.value.length,this.value.length):t.select()},getWrapperClassName:function(){let t="vue_ahead__control_wrapper";return this.customClassNames&&this.customClassNames.input&&(t+=" "+this.customClassNames.input),this.active&&(this.customClassNames&&this.customClassNames.active?t+=" "+this.customClassNames.active:t+=" vue_ahead__control_active"),t},getSelectionKey:function(t,e){return e.toString()+"#"+Object(u.getItemLabel)(t).substr(0,5)},getPlaceholder:function(){const t={placeholder:"vue_ahead__placeholder",phContent:{content:"",title:""}};return""!==this.value?(t.phContent.content="",t.phContent.title=this.value,t):(this.isMulti||1!==this.selection.length?0===this.selection.length&&(t.phContent.content=this.placeholder||""):(t.placeholder+=" vue_ahead__placeholder_values",t.phContent.content=Object(u.getDisplay)(this.selection[0],this.display,"selection")),t.phContent.title=t.phContent.content,t.phContent.content&&t.phContent.content.length>24&&(t.phContent.content=t.phContent.content.substr(0,21)+" ..."),t)},handleFocus:function(t){let e=t&&t.target&&"INPUT"===t.target.nodeName;this.$emit("focus",t,e?"input":"icon")},handleInput:function(t){const e=t&&t.target&&t.target.value||"";this.$refs.contentHolder.innerText=e,this.styles.input.width=this.$refs.contentHolder.offsetWidth+2+"px",this.$emit("change",t,e)},handleKeydown:function(t,e){if(!e){if(!t)return;e=t.keyCode||0}switch(e){case 8:if(this.isMulti&&""===this.value&&this.selection.length>0){const e=this.selection[this.selection.length-1];this.$emit("item-removal",t,e)}break;case 9:t.shiftKey||this.$emit("special-key","tab");break;case 13:t.preventDefault(),this.$emit("special-key","enter");break;case 27:t.preventDefault(),this.$emit("special-key","esc");break;case 38:case 40:t.preventDefault(),this.$emit("special-key",38===e?"up":"down")}},handleIconKeydown:function(t,e){const{keyCode:s}=t;switch(s){case 13:case 32:this.$emit("special-key",e,"clear"===e);break;case 38:case 40:this.$emit("special-key",38===s?"up":"down",!0);break;case 9:"dropdown"!==e||t.shiftKey||this.$emit("special-key","tab-out")}}},watch:{value:function(){""===this.value&&this.clear();const{placeholder:t,phContent:e}=this.getPlaceholder();this.classes.placeholder=t,this.phContent=e},selection:function(){const{placeholder:t,phContent:e}=this.getPlaceholder();this.classes.placeholder=t,this.phContent=e},active:function(){this.classes.wrapper=this.getWrapperClassName()},customClassNames:function(){this.classes.wrapper=this.getWrapperClassName()}}},g=(s(209),Object(o.a)(m,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.classes.wrapper,on:{"!dblclick":function(e){return e.stopPropagation(),t.$emit("dblclick",e)},mousedown:function(e){return e.stopPropagation(),t.$emit("mousedown",e)},"!focus":function(e){return t.handleFocus(e)},"!blur":function(e){return t.$emit("blur",e)}}},[s("div",{staticClass:"vue_ahead__input_container",attrs:{title:t.phContent.title}},[""!==t.phContent.content?s("div",{class:t.classes.placeholder},[t._v("\r\n      "+t._s(t.phContent.content)+"\r\n    ")]):t._e(),t._v(" "),t._l(t.selection,(function(e,i){return s("div",{key:t.getSelectionKey(e,i)},[t.isMulti?s("SelectionItem",{attrs:{item:e,index:i},on:{"item-removal":function(s){return t.$emit("item-removal",s,e)},"special-key":function(e){return t.$emit("special-key","tab-out")}}}):t._e()],1)})),t._v(" "),s("div",{style:t.styles.field},[s("input",{ref:"input",style:t.styles.input,attrs:{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",type:"text"},domProps:{value:t.value},on:{keydown:t.handleKeydown,input:t.handleInput}}),t._v(" "),s("div",{ref:"contentHolder",style:t.styles.container})])],2),t._v(" "),s("div",{staticClass:"vue_ahead__icons_container"},[s("ControlIcon",{staticClass:"vue_ahead__action_icon vue_ahead__clear_icon",attrs:{title:"clear all",path:t.path.clear},on:{keydown:function(e){return e.stopPropagation(),t.handleIconKeydown(e,"clear")}},nativeOn:{mousedown:function(e){return e.stopPropagation(),t.$emit("icon-event",e,"clear")}}}),t._v(" "),s("span",{staticClass:"vue_ahead__action_icon_separator"}),t._v(" "),s("ControlIcon",{staticClass:"vue_ahead__action_icon",attrs:{title:"dropdown menu",path:t.path.dropdown},on:{keydown:function(e){return e.stopPropagation(),t.handleIconKeydown(e,"dropdown")}},nativeOn:{mousedown:function(e){return e.stopPropagation(),t.$emit("icon-event",e,"dropdown")}}})],1)])}),[],!1,null,null,null).exports),_={props:{active:Boolean,highlight:String,item:Object,index:Number},data:function(){return{className:this.getClassName(),content:this.getDisplay(),styles:{text:{padding:0,margin:0,opacity:this.highlight?.8:1},hl:{padding:0,margin:0,fontWeight:600,textDecoration:"underline"}}}},methods:{getClassName:function(){let t=this.active?"vue_ahead__menu_option vue_ahead__menu_option_active":"vue_ahead__menu_option";return this.class&&this.active&&(t+=" "+this.class),t},getDisplay:function(){const t=Object(u.getItemLabel)(this.item);if(this.highlight&&t){const e=t.trim().toLowerCase(),s=this.highlight.trim().toLowerCase(),i=e.indexOf(s);if(i>=0)return[0===i?null:t.substring(0,i),t.substring(i,i+s.length),t.substring(i+s.length)]}return[t,null,null]}},watch:{active:function(){if(this.className=this.getClassName(),this.active){const{offsetTop:t,offsetHeight:e}=this.$refs.elem;this.$emit("item-activated",t,e)}},highlight:function(){this.content=this.getDisplay(),this.styles.text.opacity=this.highlight?.8:1}}},v=(s(210),Object(o.a)(_,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"elem",class:t.className,on:{"!mouseover":function(e){return t.$emit("mouseover",e,t.index)},mousedown:function(e){return t.$emit("mousedown",e,t.index)}}},[s("span",{style:t.styles.text},[t._v(t._s(t.content[0]))]),t.content[1]?s("span",{style:t.styles.hl},[t._v(t._s(t.content[1]))]):t._e(),t.content[2]?s("span",{style:t.styles.text},[t._v(t._s(t.content[2]))]):t._e()])}),[],!1,null,null,null).exports),y={props:{data:Object}},b=(s(211),Object(o.a)(y,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vue_ahead__group_label",on:{mousedown:function(e){return t.$emit("mousedown",e)}}},[s("span",[t._v("\r\n      "+t._s(t.data.label||"Default")+"\r\n    ")]),t._v(" "),s("span",{staticClass:"vue_ahead__group_label_icon"},[t._v("\r\n      "+t._s(t.data.count||0)+"\r\n    ")])])}),[],!1,null,null,null).exports);const C={position:"absolute",display:"default",top:0,left:0,width:"100%",height:"100%",textAlign:"center",justifyContent:"center",zIndex:1e6,backgroundColor:"transparent",userSelect:"none"},w={position:"absolute",top:"50%",left:"0",textAlign:"center",margin:"-12px 0 0 0",padding:0,width:"100%",height:"100%",opacity:1};var I={props:{customClassNames:Object,groups:Object,highlight:String,isRemoteInit:Boolean,itemRenderer:Object,options:{type:Array,default:new Array},reason:Number,shield:Boolean},components:{GroupLabel:b,Item:v},data:function(){return this._manualMove="",this._debounceId=null,{activeIdx:0,className:this.getClassName(),shieldVisible:!1,styles:{shield:C,title:w},emptyText:this.getEmptyText()}},methods:{getClassName:function(){let t="vue_ahead__dropdown_wrapper";return this.customClassNames&&this.customClassNames.dropdown&&(t+=" "+this.customClassNames.dropdown),t},getEmptyText:function(){return this.isRemoteInit?"Type to search":"No option"},move:function(t){let{activeIdx:e}=this;"down"===t?e++:e--,e>=this.options.length&&(e=this.options.length-1),e<0&&(e=0),e!==this.activeIdx&&(this._manualMove=t,this.activeIdx=e)},select:function(){if(this.activeIdx<0||this.activeIdx>=this.options.length)return;const t=this.options[this.activeIdx];this.$emit("item-selection",null,t.key)},handleLabelClicked:function(t){const e=this.options[this.activeIdx];this.$emit("item-selection",t,e.key)},handleItemActivated:function(t,e=30){if(this.options.length<4||!this._manualMove)return;const s=this.$refs.contentWrapper,{height:i}=s.getBoundingClientRect(),{scrollTop:n}=s;t>n+i-e&&"down"===this._manualMove?s.scrollTo(0,n+e):t<n+5&&"up"===this._manualMove&&s.scrollTo(0,n-e),this._manualMove=""},handleMouseOver:function(t,e){e<this.options.length?this.activeIdx=e:this.activeIdx=this.options.length-1,this.activeIdx<0&&(this.activeIdx=0)}},watch:{activeIdx:function(){if(!this.itemRenderer)return;const t="item_"+this.activeIdx;if(this.$refs[t]&&1===this.$refs[t].length){const{offsetTop:e,offsetHeight:s}=this.$refs[t][0];this.handleItemActivated(e,s)}},className:function(){this.className=this.getClassName()},isRemoteInit:function(){this.emptyText=this.getEmptyText()},options:function(){0===this.reason?(this.activeIdx=0,this.$refs.contentWrapper.scrollTo(0,0)):this.activeIdx>=this.options.length&&(this.activeIdx=this.options.length-1)},shield:function(){this.shield?(this._debounceId&&clearTimeout(this._debounceId),this._debounceId=setTimeout(()=>{this.shieldVisible=!0,this.styles.shield.opacity=.7,this.styles.shield.backgroundColor="#F5F5F5"},200)):(clearTimeout(this._debounceId),this._debounceId=null,this.shieldVisible=!1,this.styles.shield.opacity=1,this.styles.shield.backgroundColor="transparent")}}},x=(s(212),Object(o.a)(I,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.className},[t.shield?s("div",{style:t.styles.shield,on:{"!mousedown":function(e){return e.stopPropagation(),t.$emit("shield-click",e)}}},[s("h3",{directives:[{name:"show",rawName:"v-show",value:t.shieldVisible,expression:"shieldVisible"}],style:t.styles.title},[t._v("\r\n      Loading ...\r\n    ")])]):t._e(),t._v(" "),s("div",{ref:"contentWrapper",staticClass:"vue_ahead__dropdown_container"},[t._l(t.options,(function(e,i){return s("div",{key:e.key},[t.groups&&t.groups.hasOwnProperty(i)?s("GroupLabel",{attrs:{data:t.groups[i]},on:{mousedown:function(e){return e.stopPropagation(),t.handleLabelClicked(e)}}}):t._e(),t._v(" "),t.itemRenderer?s("div",{ref:"item_"+i.toString(),refInFor:!0,class:t.customClassNames&&t.customClassNames.activeItem||"",on:{mouseover:function(e){return t.handleMouseOver(e,i)},mousedown:function(s){return s.stopPropagation(),t.$emit("item-selection",s,e.key)},"item-activated":t.handleItemActivated}},[s(t.itemRenderer,{tag:"component",attrs:{active:t.activeIdx===i,highlight:t.highlight,item:e,index:i}})],1):s("Item",{class:t.customClassNames&&t.customClassNames.activeItem||"",attrs:{active:t.activeIdx===i,highlight:t.highlight,item:e,index:i},on:{mouseover:t.handleMouseOver,mousedown:function(s){return s.stopPropagation(),t.$emit("item-selection",s,e.key)},"item-activated":t.handleItemActivated}})],1)})),t._v(" "),t.options&&0!==t.options.length?t._e():s("div",{staticClass:"vue_ahead__dropdown_empty_options"},[t._v("\r\n      "+t._s(t.emptyText)+"\r\n    ")])],2)])}),[],!1,null,null,null).exports),k=s(180),S=s(213),O=s.n(S);class ${constructor(t){this._props=t||{},this._store=[],this._cache={last:[],data:{}},this._props.cacheSize||(this._props.cacheSize=10)}add(t=[]){if(0===t.length)return;if(Array.isArray(t))return void this._store.push(...t);const e=t.toString();this._store.push({label:e,key:e})}query(t,e){if("string"!=typeof t&&(t=t.toString()),t=t.trim().toLowerCase(),Object(k.hasProperty)(this._cache.data,t)){const s=this._cache.data[t];let i=this._cache.last.indexOf(t);return i>=0&&(this._cache.last.splice(i,1),this._cache.last.push(t)),e(s,t)}if(this._props.remote&&O.a){const s={q:t},{dataParser:i,settings:n}=this._props.remote;return O()(Object.assign({},n,{params:s})).then(s=>{const n="function"==typeof i?i(s.data):s.data;if(this._store.length>0){const e=this._localSearch(t);e&&e.length>0&&n.push(...e)}return this._updateCache(t,n),e(n,t)}).catch(s=>(console.error("[error] failed to fetch data from the remote server:",s,"\nremote settings:",n),e([],t)))}if(""===t)return e(this._store,t);const s=this._localSearch(t);return this._updateCache(t,s),e(s,t)}prefetch(t){if(!this._props.remote||!O.a)return;const{dataParser:e,settings:s}=this._props.remote;O()(Object.assign({},s,{params:{q:"",t:"prefetch"}})).then(s=>{let i="function"==typeof e?e(s.data):s.data;t(i)}).catch(t=>{console.error("[error] failed to fetch data from remote server:",t)})}setOptions(t){this._props=t}setOption(t,e){this._props[t]=e}_updateCache(t,e){if(this._cache.last.push(e),this._cache.data[e]=t,this._cache.last.length>this._props.cacheSize){let[t]=this._cache.last.splice(0,1);delete this._cache.data[t]}}_localSearch(t){let{matchEval:e}=this._props;return"function"!=typeof e&&(e=null),this._store.filter(s=>{if(e)return e(t,s);const i=s.label.toLowerCase();return i&&i.indexOf(t)>=0})}}const N=0,j=1,P=2,T=3,M=4,R=5,A=-1;var D={inheritAttrs:!1,name:"VueAhead",components:{Shield:a,Input:g,Dropdown:x},beforeMount:function(){},beforeDestroy:function(){},props:{customClassNames:Object,grouped:Boolean,highlight:Boolean,initOptions:Array,initSelections:Array,isMulti:Boolean,itemRenderer:{type:Object,default:null},placeholder:String,remote:Object},data(){const{source:t,options:e,selection:s,groups:i}=this.init();return this._engine=new $({remote:this.remote||null}),this._engine.add(t),this._shieldId=null,this._debounceId=null,{className:this.getClassName(),focusStatus:N,groups:i,open:!1,options:e,reason:0,selection:s,source:t,shield:!1,shieldDisplay:"none",value:""}},methods:{init:function(){let t=[],e=null;this.remote?"function"==typeof this.remote.prefetch&&this.runPrefetcher(this.remote.prefetch):(t=this.prepareOptions(this.initOptions),this.initSelections&&this.initSelections.length>0&&(e=this.prepareInitState(t,this.initSelections)));const s=e?e.options:t,i=e?e.selection:{items:[],indices:{}},{options:n,groups:o}=this.grouped?this.buildGroupOptions(s):{options:s,groups:null};return{source:t,options:n,selection:i,groups:o}},focusInput:function(t=null){setTimeout(()=>{this.focusStatus!==j&&(this.$refs.inputControl.focus(),this.open=null===t||t),this.focusStatus=j},0)},focuseReset:function(){this.focusStatus=N,this.open=!1,this.value="",this.resetOptions()},getClassName:function(){let t="vue_ahead__control_container";return this.class&&(t+=" "+this.class),this.customClassNames&&this.customClassNames.control&&(t+=" "+this.customClassNames.control),t},resetOptions:function(){this.reason=0,this.remote?"function"==typeof this.remote.prefetch?this.runPrefetcher(this.remote.prefetch,!0):(this.source=[],this.options=this.getOptions()):this.options=this.getOptions()},buildGroupOptions:function(t){if(!t||0===t.length)return{options:t,groups:null};t=t.sort((t,e)=>"default"===t.group?-1:"default"===e.group?1:t.group===e.group?0:t.group>e.group?1:-1);const e={};let s="",i=-1,n=0;for(let o=0;o<t.length;o++)t[o].group!==s&&(i>=0&&(e[i]={label:s,count:n}),i=o,s=t[o].group,n=0),n++;return""!==s&&i>=0&&(e[i]={label:s,count:n}),{options:t,groups:e}},getOptions:function(t){t||(t=this.source||[]);const{indices:e}=this.selection||{};if(!e)return t;let s=t.filter(t=>!Object(k.hasProperty)(e,t.key));if(this.grouped){const{options:t,groups:e}=this.buildGroupOptions(s);s=t,this.groups=e}return s},prepareOptions:function(t=[]){const e={};return t.filter(t=>"object"==typeof t&&!!t).map((t,s)=>{Object(k.hasProperty)(t,"key")||(t.key=s.toString()+"#"+Object(k.randomSuffix)());let i=t.key;for("string"!=typeof i&&(i=null==i?Object(k.randomSuffix)():i.toString());Object(k.hasProperty)(e,i);)i+=Object(k.randomSuffix)();t.key=i,e[i]=null;let n=t.label;if("string"!=typeof n&&(n=null==n?"":n.toString()),t.label=n,this.grouped){let e=t.group;"string"!=typeof e&&(e=null==e?"default":e.toString()),t.group=e}return t})||[]},prepareInitState:function(t,e){const s={},i=[],n=[];for(let t=0;t<e.length;t++){let i=e[t];if("string"!=typeof i&&(i=i.toString()),s[i]=null,!this.isMulti)break}for(let e=0;e<t.length;e++)Object(k.hasProperty)(s,t[e].key)&&(this.isMulti||0===n.length)?n.push(t[e]):i.push(t[e]);return{options:i,selection:{items:n,indices:s}}},clear:function(){this.selection={items:[],indices:{}},this.value="",this.reason=1,this.remote?"function"==typeof this.remote.prefetch?this.runPrefetcher(this.remote.prefetch):(this.source=[],this.options=this.getOptions()):this.options=this.getOptions()},reset:function(){const{options:t,selection:e,groups:s}=this.init();this.value="",this.reason=1,this.options=t,this.groups=s,this.selection=e},runPrefetcher:function(t,e){t((t,s=[])=>{setTimeout(()=>{let i=this.prepareOptions(t),n=i,o=this.selection;if(s&&s.length>0&&(!e||!this.selection.items.length)){const t=this.prepareInitState(i,s);o=t.selection,n=t.options}const{options:a,groups:l}=this.grouped?this.buildGroupOptions(n):{options:n,groups:null};this.source=i,this.options=a,this.selection=o,this.groups=l},0)})},shieldAction:function(t){this._shieldId&&clearTimeout(this._shieldId),t?this._shieldId=setTimeout(()=>{this.shield=!0},10):(this._shieldId=null,this.shield=!1)},handleFocus:function(t,e){this.focusStatus="input"===e?j:P,this.focusStatus===j&&(this.open=!0)},handleShieldClick:function(t){this.focusStatus=R,this.focusInput()},handleDbClick:function(t){setTimeout(()=>{this.$refs.inputControl.select()},0)},handleInputClick:function(t){this.focusStatus=T,this.focusInput()},handleIconEvent:function(t,e){switch(this.focusStatus=T,e){case"clear":this.clear();break;case"dropdown":this.open=!this.open}this.focusInput("dropdown"===e?this.open:null)},handleInputBlur:function(t,e){(this.focusStatus<=P||e)&&(this.focusStatus=A,setTimeout(()=>{this.focusStatus===A&&this.focuseReset()},0))},handleInputChange:function(t,e){this.value=e,this.open=!0,""!==e&&""!==e.trim()?(this.shieldAction(!0),this._debounceId&&clearTimeout(this._debounceId),this._debounceId=setTimeout(()=>{this._engine.query(e,(t=[])=>{this.remote?(this.source=this.prepareOptions(t),this.options=this.getOptions()):this.options=this.getOptions(t),this.reason=0,this.shieldAction(!1),this._debounceId=null})},120)):this.resetOptions()},handleItemSelection:function(t,e){if(Object(k.hasProperty)(this.selection.indices,e))return;let{items:s,indices:i}=this.selection;this.isMulti||(s=[],i={});for(let t=0;t<this.options.length;t++)if(this.options[t].key===e){s.push(this.options[t]),i[e]=null;break}this.selection={items:s,indices:i},this.$emit("selection",{type:"add",items:this.selection.items,value:this.value}),""!==this.value&&(this.value=""),this.reason=1,this.options=this.getOptions(),this.focusStatus=M,this.focusInput()},handleItemRemoval:function(t,e){if(!this.isMulti||!e||!e.key)return;const{key:s}=e;let{items:i,indices:n}=this.selection,o=null;delete n[s],i=i.filter(t=>t.key!==s||(o=t,!1)),this.selection={items:i,indices:n},this.$emit("selection",{type:"remove",items:this.selection.items,deleted:o}),this.reason=1,this.options=this.getOptions().filter(t=>!Object(k.hasProperty)(n,t.key)),this.focusStatus=P,this.focusInput()},handleSpecialKey:function(t,e){switch(t){case"enter":this.$refs.dropdownControl&&this.$refs.dropdownControl.select();break;case"esc":this.open=!1;break;case"clear":this.clear();break;case"dropdown":this.open=!this.open;break;case"up":case"down":this.open?this.$refs.dropdownControl&&this.$refs.dropdownControl.move(t):this.open=!0;break;case"tab":this.focusStatus=P;break;case"tab-out":this.focuseReset()}e&&this.focusInput()}},watch:{class:function(){this.className=this.getClassName()},customClasses:function(){this.className=this.getClassName()},initOptions:function(){this.reset()},initSelections:function(){this.reset()}}},B=(s(230),Object(o.a)(D,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:t.className},[s("Shield",{attrs:{on:t.shield},on:{"!mousedown":function(e){return e.stopPropagation(),t.handleShieldClick(e)}}}),t._v(" "),s("Input",{ref:"inputControl",attrs:{active:0!==t.focusStatus,customClassNames:t.customClassNames,isMulti:t.isMulti,placeholder:t.placeholder,selection:t.selection.items,value:t.value},on:{dblclick:t.handleDbClick,change:t.handleInputChange,blur:t.handleInputBlur,focus:t.handleFocus,mousedown:t.handleInputClick,"icon-event":t.handleIconEvent,"special-key":t.handleSpecialKey,"item-removal":t.handleItemRemoval}}),t._v(" "),t.open?s("Dropdown",{ref:"dropdownControl",attrs:{customClassNames:t.customClassNames,groups:t.groups,highlight:t.highlight?t.value.trim():null,isRemoteInit:t.remote&&""===t.value,itemRenderer:t.itemRenderer,open:t.open,options:t.options,reason:t.reason,shield:t.shield},on:{"item-selection":t.handleItemSelection}}):t._e()],1)}),[],!1,null,null,null).exports);const E=function(t){E.installed||(E.installed=!0,t.component("VueAhead",B))},K={install:E};let z=null;"undefined"!=typeof window?z=window.Vue:"undefined"!=typeof global&&(z=global.Vue),z&&z.use(K);e.a=B},165:function(t,e,s){},166:function(t,e,s){},167:function(t,e,s){},168:function(t,e,s){},169:function(t,e,s){},170:function(t,e,s){},171:function(t,e,s){},172:function(t,e,s){},179:function(t,e){const s=t=>{let e="object"==typeof t?t.label:t;return"string"!=typeof e&&(e=e.toString()),e};t.exports={getDisplay:(t,e,i)=>{let n=s(t);return e&&(n=e(n,t,i)),"string"!=typeof n?"...":n},getGroupKey:t=>{let e="object"==typeof t?t.group:"default";return"string"!=typeof e&&"number"!=typeof e&&(e="default"),e=e.toString()||"default",e.toUpperCase()},getItemLabel:s}},180:function(t,e){t.exports={hasProperty:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),randomSuffix:()=>Math.random().toString(36).substring(2,6)}},206:function(t,e,s){"use strict";var i=s(165);s.n(i).a},207:function(t,e,s){"use strict";var i=s(166);s.n(i).a},208:function(t,e,s){"use strict";var i=s(167);s.n(i).a},209:function(t,e,s){"use strict";var i=s(168);s.n(i).a},210:function(t,e,s){"use strict";var i=s(169);s.n(i).a},211:function(t,e,s){"use strict";var i=s(170);s.n(i).a},212:function(t,e,s){"use strict";var i=s(171);s.n(i).a},230:function(t,e,s){"use strict";var i=s(172);s.n(i).a}}]);